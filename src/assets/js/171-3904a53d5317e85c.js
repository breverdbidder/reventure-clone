(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{22617:function(d,x,E){d.exports=function(){"use strict";var s=function(d,x){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(d,x){d.__proto__=x}||function(d,x){for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(d[E]=x[E])})(d,x)},_=function(){return(_=Object.assign||function(d){for(var x,E=1,O=arguments.length;E<O;E++)for(var K in x=arguments[E])Object.prototype.hasOwnProperty.call(x,K)&&(d[K]=x[K]);return d}).apply(this,arguments)};function i(d,x,E){if(E||2==arguments.length)for(var O,K=0,C=x.length;K<C;K++)!O&&K in x||((O=O||Array.prototype.slice.call(x,0,K))[K]=x[K]);return d.concat(O||Array.prototype.slice.call(x))}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:E.g,x=Object.keys,O=Array.isArray;function a(d,E){return"object"!=typeof E||x(E).forEach(function(x){d[x]=E[x]}),d}"undefined"==typeof Promise||d.Promise||(d.Promise=Promise);var K=Object.getPrototypeOf,C={}.hasOwnProperty;function m(d,x){return C.call(d,x)}function r(d,E){"function"==typeof E&&(E=E(K(d))),("undefined"==typeof Reflect?x:Reflect.ownKeys)(E).forEach(function(x){l(d,x,E[x])})}var j=Object.defineProperty;function l(d,x,E,O){j(d,x,a(E&&m(E,"get")&&"function"==typeof E.get?{get:E.get,set:E.set,configurable:!0}:{value:E,configurable:!0,writable:!0},O))}function o(d){return{from:function(x){return d.prototype=Object.create(x.prototype),l(d.prototype,"constructor",d),{extend:r.bind(null,d.prototype)}}}}var T=Object.getOwnPropertyDescriptor,q=[].slice;function b(d,x,E){return q.call(d,x,E)}function p(d,x){return x(d)}function y(d){if(!d)throw Error("Assertion Failed")}function v(x){d.setImmediate?setImmediate(x):setTimeout(x,0)}function g(d,x){if("string"==typeof x&&m(d,x))return d[x];if(!x)return d;if("string"!=typeof x){for(var E=[],O=0,K=x.length;O<K;++O){var C=g(d,x[O]);E.push(C)}return E}var j=x.indexOf(".");if(-1!==j){var T=d[x.substr(0,j)];return null==T?void 0:g(T,x.substr(j+1))}}function w(d,x,E){if(d&&void 0!==x&&!("isFrozen"in Object&&Object.isFrozen(d))){if("string"!=typeof x&&"length"in x){y("string"!=typeof E&&"length"in E);for(var K=0,C=x.length;K<C;++K)w(d,x[K],E[K])}else{var j,T,q=x.indexOf(".");-1!==q?(j=x.substr(0,q),""===(T=x.substr(q+1))?void 0===E?O(d)&&!isNaN(parseInt(j))?d.splice(j,1):delete d[j]:d[j]=E:w(q=(q=d[j])&&m(d,j)?q:d[j]={},T,E)):void 0===E?O(d)&&!isNaN(parseInt(x))?d.splice(x,1):delete d[x]:d[x]=E}}}function k(d){var x,E={};for(x in d)m(d,x)&&(E[x]=d[x]);return E}var R=[].concat;function P(d){return R.apply([],d)}var B="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(P([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(x){return x+d+"Array"})}))).filter(function(x){return d[x]}),F=new Set(B.map(function(x){return d[x]})),M=null;function S(d){return M=new WeakMap,d=function e(d){if(!d||"object"!=typeof d)return d;var x=M.get(d);if(x)return x;if(O(d)){x=[],M.set(d,x);for(var E=0,C=d.length;E<C;++E)x.push(e(d[E]))}else if(F.has(d.constructor))x=d;else{var j,T=K(d);for(j in x=T===Object.prototype?{}:Object.create(T),M.set(d,x),d)m(d,j)&&(x[j]=e(d[j]))}return x}(d),M=null,d}var z={}.toString;function A(d){return z.call(d).slice(8,-1)}var W="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",$="symbol"==typeof W?function(d){var x;return null!=d&&(x=d[W])&&x.apply(d)}:function(){return null};function I(d,x){return 0<=(x=d.indexOf(x))&&d.splice(x,1),0<=x}var Y={};function D(d){var x,E,K,C;if(1==arguments.length){if(O(d))return d.slice();if(this===Y&&"string"==typeof d)return[d];if(C=$(d)){for(E=[];!(K=C.next()).done;)E.push(K.value);return E}if(null==d||"number"!=typeof(x=d.length))return[d];for(E=Array(x);x--;)E[x]=d[x];return E}for(x=arguments.length,E=Array(x);x--;)E[x]=arguments[x];return E}var Q="undefined"!=typeof Symbol?function(d){return"AsyncFunction"===d[Symbol.toStringTag]}:function(){return!1},et=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],en=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(et),er={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function N(d,x){this.name=d,this.message=x}function L(d,x){return d+". Errors: "+Object.keys(x).map(function(d){return x[d].toString()}).filter(function(d,x,E){return E.indexOf(d)===x}).join("\n")}function U(d,x,E,O){this.failures=x,this.failedKeys=O,this.successCount=E,this.message=L(d,x)}function V(d,x){this.name="BulkError",this.failures=Object.keys(x).map(function(d){return x[d]}),this.failuresByPos=x,this.message=L(d,this.failures)}o(N).from(Error).extend({toString:function(){return this.name+": "+this.message}}),o(U).from(N),o(V).from(N);var ei=en.reduce(function(d,x){return d[x]=x+"Error",d},{}),eo=en.reduce(function(d,x){var E=x+"Error";function t(d,O){this.name=E,d?"string"==typeof d?(this.message="".concat(d).concat(O?"\n "+O:""),this.inner=O||null):"object"==typeof d&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=er[x]||E,this.inner=null)}return o(t).from(N),d[x]=t,d},{});eo.Syntax=SyntaxError,eo.Type=TypeError,eo.Range=RangeError;var ea=et.reduce(function(d,x){return d[x+"Error"]=eo[x],d},{}),eu=en.reduce(function(d,x){return -1===["Syntax","Type","Range"].indexOf(x)&&(d[x+"Error"]=eo[x]),d},{});function G(){}function X(d){return d}function H(d,x){return null==d||d===X?x:function(E){return x(d(E))}}function J(d,x){return function(){d.apply(this,arguments),x.apply(this,arguments)}}function Z(d,x){return d===G?x:function(){var E=d.apply(this,arguments);void 0!==E&&(arguments[0]=E);var O=this.onsuccess,K=this.onerror;this.onsuccess=null,this.onerror=null;var C=x.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?J(O,this.onsuccess):O),K&&(this.onerror=this.onerror?J(K,this.onerror):K),void 0!==C?C:E}}function ee(d,x){return d===G?x:function(){d.apply(this,arguments);var E=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,x.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?J(E,this.onsuccess):E),O&&(this.onerror=this.onerror?J(O,this.onerror):O)}}function te(d,x){return d===G?x:function(E){var O=d.apply(this,arguments);a(E,O);var K=this.onsuccess,C=this.onerror;return this.onsuccess=null,this.onerror=null,E=x.apply(this,arguments),K&&(this.onsuccess=this.onsuccess?J(K,this.onsuccess):K),C&&(this.onerror=this.onerror?J(C,this.onerror):C),void 0===O?void 0===E?void 0:E:a(O,E)}}function ne(d,x){return d===G?x:function(){return!1!==x.apply(this,arguments)&&d.apply(this,arguments)}}function re(d,x){return d===G?x:function(){var E=d.apply(this,arguments);if(E&&"function"==typeof E.then){for(var O=this,K=arguments.length,C=Array(K);K--;)C[K]=arguments[K];return E.then(function(){return x.apply(O,C)})}return x.apply(this,arguments)}}eu.ModifyError=U,eu.DexieError=N,eu.BulkError=V;var es="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),ec={},B="undefined"==typeof Promise?[]:function(){var d=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[d,K(d),d];var x=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[x,K(x),d]}(),et=B[0],en=B[1],B=B[2],en=en&&en.then,el=et&&et.constructor,ef=!!B,le=function(d,x){eg.push([d,x]),ed&&(queueMicrotask(Se),ed=!1)},eh=!0,ed=!0,ep=[],ey=[],ev=X,em={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:G,pgp:!1,env:{},finalize:G},eb=em,eg=[],e_=0,ew=[];function _e(d){if("object"!=typeof this)throw TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var x=this._PSD=eb;if("function"!=typeof d){if(d!==ec)throw TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Oe(this,this._value))}this._state=null,this._value=null,++x.ref,function t(d,x){try{x(function(x){if(null===d._state){if(x===d)throw TypeError("A promise cannot be resolved with itself.");var E=d._lib&&je();x&&"function"==typeof x.then?t(d,function(d,E){x instanceof _e?x._then(d,E):x.then(d,E)}):(d._state=!0,d._value=x,Pe(d)),E&&Ae()}},Oe.bind(null,d))}catch(x){Oe(d,x)}}(this,d)}var ex={get:function(){var d=eb,x=eK;function e(E,O){var K=this,C=!d.global&&(d!==eb||x!==eK),j=C&&!Ue(),T=new _e(function(x,T){Ke(K,new ke(Qe(E,d,C,j),Qe(O,d,C,j),x,T,d))});return this._consoleTask&&(T._consoleTask=this._consoleTask),T}return e.prototype=ec,e},set:function(d){l(this,"then",d&&d.prototype===ec?ex:{get:function(){return d},set:ex.set})}};function ke(d,x,E,O,K){this.onFulfilled="function"==typeof d?d:null,this.onRejected="function"==typeof x?x:null,this.resolve=E,this.reject=O,this.psd=K}function Oe(d,x){var E;ey.push(x),null===d._state&&(E=d._lib&&je(),x=ev(x),d._state=!1,d._value=x,ep.some(function(x){return x._value===d._value})||ep.push(d),Pe(d),E&&Ae())}function Pe(d){var x=d._listeners;d._listeners=[];for(var E=0,O=x.length;E<O;++E)Ke(d,x[E]);var K=d._PSD;--K.ref||K.finalize(),0===e_&&(++e_,le(function(){0==--e_&&Ce()},[]))}function Ke(d,x){if(null!==d._state){var E=d._state?x.onFulfilled:x.onRejected;if(null===E)return(d._state?x.resolve:x.reject)(d._value);++x.psd.ref,++e_,le(Ee,[E,d,x])}else d._listeners.push(x)}function Ee(d,x,E){try{var O,K=x._value;!x._state&&ey.length&&(ey=[]),O=es&&x._consoleTask?x._consoleTask.run(function(){return d(K)}):d(K),x._state||-1!==ey.indexOf(K)||function(d){for(var x=ep.length;x;)if(ep[--x]._value===d._value)return ep.splice(x,1)}(x),E.resolve(O)}catch(d){E.reject(d)}finally{0==--e_&&Ce(),--E.psd.ref||E.psd.finalize()}}function Se(){$e(em,function(){je()&&Ae()})}function je(){var d=eh;return ed=eh=!1,d}function Ae(){var d,x,E;do for(;0<eg.length;)for(d=eg,eg=[],E=d.length,x=0;x<E;++x){var O=d[x];O[0].apply(null,O[1])}while(0<eg.length);ed=eh=!0}function Ce(){var d=ep;ep=[],d.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var x=ew.slice(0),E=x.length;E;)x[--E]()}function Te(d){return new _e(ec,!1,d)}function Ie(d,x){var E=eb;return function(){var O=je(),K=eb;try{return We(E,!0),d.apply(this,arguments)}catch(d){x&&x(d)}finally{We(K,!1),O&&Ae()}}}r(_e.prototype,{then:ex,_then:function(d,x){Ke(this,new ke(null,null,d,x,eb))},catch:function(d){if(1==arguments.length)return this.then(null,d);var x=arguments[1];return"function"==typeof d?this.then(null,function(E){return(E instanceof d?x:Te)(E)}):this.then(null,function(E){return(E&&E.name===d?x:Te)(E)})},finally:function(d){return this.then(function(x){return _e.resolve(d()).then(function(){return x})},function(x){return _e.resolve(d()).then(function(){return Te(x)})})},timeout:function(d,x){var E=this;return d<1/0?new _e(function(O,K){var C=setTimeout(function(){return K(new eo.Timeout(x))},d);E.then(O,K).finally(clearTimeout.bind(null,C))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&l(_e.prototype,Symbol.toStringTag,"Dexie.Promise"),em.env=Ye(),r(_e,{all:function(){var d=D.apply(null,arguments).map(Ve);return new _e(function(x,E){0===d.length&&x([]);var O=d.length;d.forEach(function(K,C){return _e.resolve(K).then(function(E){d[C]=E,--O||x(d)},E)})})},resolve:function(d){return d instanceof _e?d:d&&"function"==typeof d.then?new _e(function(x,E){d.then(x,E)}):new _e(ec,!0,d)},reject:Te,race:function(){var d=D.apply(null,arguments).map(Ve);return new _e(function(x,E){d.map(function(d){return _e.resolve(d).then(x,E)})})},PSD:{get:function(){return eb},set:function(d){return eb=d}},totalEchoes:{get:function(){return eK}},newPSD:Ne,usePSD:$e,scheduler:{get:function(){return le},set:function(d){le=d}},rejectionMapper:{get:function(){return ev},set:function(d){ev=d}},follow:function(d,x){return new _e(function(E,O){return Ne(function(x,E){var O=eb;O.unhandleds=[],O.onunhandled=E,O.finalize=J(function(){var d,O=this;d=function(){0===O.unhandleds.length?x():E(O.unhandleds[0])},ew.push(function e(){d(),ew.splice(ew.indexOf(e),1)}),++e_,le(function(){0==--e_&&Ce()},[])},O.finalize),d()},x,E,O)})}}),el&&(el.allSettled&&l(_e,"allSettled",function(){var d=D.apply(null,arguments).map(Ve);return new _e(function(x){0===d.length&&x([]);var E=d.length,O=Array(E);d.forEach(function(d,K){return _e.resolve(d).then(function(d){return O[K]={status:"fulfilled",value:d}},function(d){return O[K]={status:"rejected",reason:d}}).then(function(){return--E||x(O)})})})}),el.any&&"undefined"!=typeof AggregateError&&l(_e,"any",function(){var d=D.apply(null,arguments).map(Ve);return new _e(function(x,E){0===d.length&&E(AggregateError([]));var O=d.length,K=Array(O);d.forEach(function(d,C){return _e.resolve(d).then(function(d){return x(d)},function(d){K[C]=d,--O||E(AggregateError(K))})})})}),el.withResolvers&&(_e.withResolvers=el.withResolvers));var ek={awaits:0,echoes:0,id:0},eE=0,eO=[],eP=0,eK=0,eS=0;function Ne(d,x,E,O){var K=eb,C=Object.create(K);return C.parent=K,C.ref=0,C.global=!1,C.id=++eS,em.env,C.env=ef?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},x&&a(C,x),++K.ref,C.finalize=function(){--this.parent.ref||this.parent.finalize()},O=$e(C,d,E,O),0===C.ref&&C.finalize(),O}function Le(){return ek.id||(ek.id=++eE),++ek.awaits,ek.echoes+=100,ek.id}function Ue(){return!!ek.awaits&&(0==--ek.awaits&&(ek.id=0),ek.echoes=100*ek.awaits,!0)}function Ve(d){return ek.echoes&&d&&d.constructor===el?(Le(),d.then(function(d){return Ue(),d},function(d){return Ue(),eI(d)})):d}function ze(){var d=eO[eO.length-1];eO.pop(),We(d,!1)}function We(x,E){var O,K=eb;(E?!ek.echoes||eP++&&x===eb:!eP||--eP&&x===eb)||queueMicrotask(E?(function(d){++eK,ek.echoes&&0!=--ek.echoes||(ek.echoes=ek.awaits=ek.id=0),eO.push(eb),We(d,!0)}).bind(null,x):ze),x!==eb&&(eb=x,K===em&&(em.env=Ye()),ef&&(O=em.env.Promise,E=x.env,(K.global||x.global)&&(Object.defineProperty(d,"Promise",E.PromiseProp),O.all=E.all,O.race=E.race,O.resolve=E.resolve,O.reject=E.reject,E.allSettled&&(O.allSettled=E.allSettled),E.any&&(O.any=E.any))))}function Ye(){var x=d.Promise;return ef?{Promise:x,PromiseProp:Object.getOwnPropertyDescriptor(d,"Promise"),all:x.all,race:x.race,allSettled:x.allSettled,any:x.any,resolve:x.resolve,reject:x.reject}:{}}function $e(d,x,E,O,K){var C=eb;try{return We(d,!0),x(E,O,K)}finally{We(C,!1)}}function Qe(d,x,E,O){return"function"!=typeof d?d:function(){var K=eb;E&&Le(),We(x,!0);try{return d.apply(this,arguments)}finally{We(K,!1),O&&queueMicrotask(Ue)}}}function Ge(d){Promise===el&&0===ek.echoes?0===eP?d():enqueueNativeMicroTask(d):setTimeout(d,0)}-1===(""+en).indexOf("[native code]")&&(Le=Ue=G);var eI=_e.reject,eC=String.fromCharCode(65535),ej="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",eA="String expected.",eT=[],eD="__dbnames",eq="readonly",eR="readwrite";function it(d,x){return d?x?function(){return d.apply(this,arguments)&&x.apply(this,arguments)}:d:x}var eB={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(d){return"string"!=typeof d||/\./.test(d)?function(d){return d}:function(x){return void 0===x[d]&&d in x&&delete(x=S(x))[d],x}}function ut(){throw eo.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function st(d,x){try{var E=ct(d),O=ct(x);if(E!==O)return"Array"===E?1:"Array"===O?-1:"binary"===E?1:"binary"===O?-1:"string"===E?1:"string"===O?-1:"Date"===E?1:"Date"!==O?NaN:-1;switch(E){case"number":case"Date":case"string":return x<d?1:d<x?-1:0;case"binary":return function(d,x){for(var E=d.length,O=x.length,K=E<O?E:O,C=0;C<K;++C)if(d[C]!==x[C])return d[C]<x[C]?-1:1;return E===O?0:E<O?-1:1}(lt(d),lt(x));case"Array":return function(d,x){for(var E=d.length,O=x.length,K=E<O?E:O,C=0;C<K;++C){var j=st(d[C],x[C]);if(0!==j)return j}return E===O?0:E<O?-1:1}(d,x)}}catch(d){}return NaN}function ct(d){var x=typeof d;return"object"!=x?x:ArrayBuffer.isView(d)?"binary":"ArrayBuffer"===(d=A(d))?"binary":d}function lt(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function ft(d,x,E){var O=d.schema.yProps;return O?(x&&0<E.numFailures&&(x=x.filter(function(d,x){return!E.failures[x]})),Promise.all(O.map(function(E){return E=E.updatesTable,x?d.db.table(E).where("k").anyOf(x).delete():d.db.table(E).clear()})).then(function(){return E})):E}var eN=(dt.prototype.execute=function(d){var x=this["@@propmod"];if(void 0!==x.add){var E=x.add;if(O(E))return i(i([],O(d)?d:[],!0),E,!0).sort();if("number"==typeof E)return(Number(d)||0)+E;if("bigint"==typeof E)try{return BigInt(d)+E}catch(d){return BigInt(0)+E}throw TypeError("Invalid term ".concat(E))}if(void 0!==x.remove){var K=x.remove;if(O(K))return O(d)?d.filter(function(d){return!K.includes(d)}).sort():[];if("number"==typeof K)return Number(d)-K;if("bigint"==typeof K)try{return BigInt(d)-K}catch(d){return BigInt(0)-K}throw TypeError("Invalid subtrahend ".concat(K))}return(E=null===(E=x.replacePrefix)||void 0===E?void 0:E[0])&&"string"==typeof d&&d.startsWith(E)?x.replacePrefix[1]+d.substring(E.length):d},dt);function dt(d){this["@@propmod"]=d}function pt(d,E){for(var O=x(E),K=O.length,C=!1,j=0;j<K;++j){var T=O[j],q=E[T],R=g(d,T);q instanceof eN?(w(d,T,q.execute(R)),C=!0):R!==q&&(w(d,T,q),C=!0)}return C}var eF=(vt.prototype._trans=function(d,x,E){var O=this._tx||eb.trans,K=this.name,C=es&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===d?"read":"write"," ").concat(this.name));function a(d,E,O){if(!O.schema[K])throw new eo.NotFound("Table "+K+" not part of transaction");return x(O.idbtrans,O)}var j=je();try{var T=O&&O.db._novip===this.db._novip?O===eb.trans?O._promise(d,a,E):Ne(function(){return O._promise(d,a,E)},{trans:O,transless:eb.transless||eb}):function t(d,x,E,O){if(d.idbdb&&(d._state.openComplete||eb.letThrough||d._vip)){var K=d._createTransaction(x,E,d._dbSchema);try{K.create(),d._state.PR1398_maxLoop=3}catch(K){return K.name===ei.InvalidState&&d.isOpen()&&0<--d._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),d.close({disableAutoOpen:!1}),d.open().then(function(){return t(d,x,E,O)})):eI(K)}return K._promise(x,function(d,x){return Ne(function(){return eb.trans=K,O(d,x,K)})}).then(function(d){if("readwrite"===x)try{K.idbtrans.commit()}catch(d){}return"readonly"===x?d:K._completion.then(function(){return d})})}if(d._state.openComplete)return eI(new eo.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return eI(new eo.DatabaseClosed);d.open().catch(G)}return d._state.dbReadyPromise.then(function(){return t(d,x,E,O)})}(this.db,d,[this.name],a);return C&&(T._consoleTask=C,T=T.catch(function(d){return console.trace(d),eI(d)})),T}finally{j&&Ae()}},vt.prototype.get=function(d,x){var E=this;return d&&d.constructor===Object?this.where(d).first(x):null==d?eI(new eo.Type("Invalid argument to Table.get()")):this._trans("readonly",function(x){return E.core.get({trans:x,key:d}).then(function(d){return E.hook.reading.fire(d)})}).then(x)},vt.prototype.where=function(d){if("string"==typeof d)return new this.db.WhereClause(this,d);if(O(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var E=x(d);if(1===E.length)return this.where(E[0]).equals(d[E[0]]);var K=this.schema.indexes.concat(this.schema.primKey).filter(function(d){if(d.compound&&E.every(function(x){return 0<=d.keyPath.indexOf(x)})){for(var x=0;x<E.length;++x)if(-1===E.indexOf(d.keyPath[x]))return!1;return!0}return!1}).sort(function(d,x){return d.keyPath.length-x.keyPath.length})[0];if(K&&this.db._maxKey!==eC){var C=K.keyPath.slice(0,E.length);return this.where(C).equals(C.map(function(x){return d[x]}))}!K&&es&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(E.join("+"),"]"));var j=this.schema.idxByName,T=E.reduce(function(x,E){var K=x[0],C=x[1],x=j[E],T=d[E];return[K||x,K||!x?it(C,x&&x.multi?function(d){return O(d=g(d,E))&&d.some(function(d){return 0===st(T,d)})}:function(d){return 0===st(T,g(d,E))}):C]},[null,null]),C=T[0],T=T[1];return C?this.where(C.name).equals(d[C.keyPath]).filter(T):K?this.filter(T):this.where(E).equals("")},vt.prototype.filter=function(d){return this.toCollection().and(d)},vt.prototype.count=function(d){return this.toCollection().count(d)},vt.prototype.offset=function(d){return this.toCollection().offset(d)},vt.prototype.limit=function(d){return this.toCollection().limit(d)},vt.prototype.each=function(d){return this.toCollection().each(d)},vt.prototype.toArray=function(d){return this.toCollection().toArray(d)},vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},vt.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,O(d)?"[".concat(d.join("+"),"]"):d))},vt.prototype.reverse=function(){return this.toCollection().reverse()},vt.prototype.mapToClass=function(d){var x,E=this.db,O=this.name;function i(){return null!==x&&x.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof ut&&(function(d,x){if("function"!=typeof x&&null!==x)throw TypeError("Class extends value "+String(x)+" is not a constructor or null");function n(){this.constructor=d}s(d,x),d.prototype=null===x?Object.create(x):(n.prototype=x.prototype,new n)}(i,x=d),Object.defineProperty(i.prototype,"db",{get:function(){return E},enumerable:!1,configurable:!0}),i.prototype.table=function(){return O},d=i);for(var C=new Set,j=d.prototype;j;j=K(j))Object.getOwnPropertyNames(j).forEach(function(d){return C.add(d)});function u(x){if(!x)return x;var E,O=Object.create(d.prototype);for(E in x)if(!C.has(E))try{O[E]=x[E]}catch(d){}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook("reading",u),d},vt.prototype.defineClass=function(){return this.mapToClass(function(d){a(this,d)})},vt.prototype.add=function(d,x){var E=this,O=this.schema.primKey,K=O.auto,C=O.keyPath,j=d;return C&&K&&(j=at(C)(d)),this._trans("readwrite",function(d){return E.core.mutate({trans:d,type:"add",keys:null!=x?[x]:null,values:[j]})}).then(function(d){return d.numFailures?_e.reject(d.failures[0]):d.lastResult}).then(function(x){if(C)try{w(d,C,x)}catch(d){}return x})},vt.prototype.upsert=function(d,x){var E=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(K){return E.core.get({trans:K,key:d}).then(function(C){var j=null!=C?C:{};return pt(j,x),O&&w(j,O,d),E.core.mutate({trans:K,type:"put",values:[j],keys:[d],upsert:!0,updates:{keys:[d],changeSpecs:[x]}}).then(function(d){return d.numFailures?_e.reject(d.failures[0]):!!C})})})},vt.prototype.update=function(d,x){return"object"!=typeof d||O(d)?this.where(":id").equals(d).modify(x):void 0===(d=g(d,this.schema.primKey.keyPath))?eI(new eo.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(x)},vt.prototype.put=function(d,x){var E=this,O=this.schema.primKey,K=O.auto,C=O.keyPath,j=d;return C&&K&&(j=at(C)(d)),this._trans("readwrite",function(d){return E.core.mutate({trans:d,type:"put",values:[j],keys:null!=x?[x]:null})}).then(function(d){return d.numFailures?_e.reject(d.failures[0]):d.lastResult}).then(function(x){if(C)try{w(d,C,x)}catch(d){}return x})},vt.prototype.delete=function(d){var x=this;return this._trans("readwrite",function(E){return x.core.mutate({trans:E,type:"delete",keys:[d]}).then(function(E){return ft(x,[d],E)}).then(function(d){return d.numFailures?_e.reject(d.failures[0]):void 0})})},vt.prototype.clear=function(){var d=this;return this._trans("readwrite",function(x){return d.core.mutate({trans:x,type:"deleteRange",range:eB}).then(function(x){return ft(d,null,x)})}).then(function(d){return d.numFailures?_e.reject(d.failures[0]):void 0})},vt.prototype.bulkGet=function(d){var x=this;return this._trans("readonly",function(E){return x.core.getMany({keys:d,trans:E}).then(function(d){return d.map(function(d){return x.hook.reading.fire(d)})})})},vt.prototype.bulkAdd=function(d,x,E){var O=this,K=Array.isArray(x)?x:void 0,C=(E=E||(K?void 0:x))?E.allKeys:void 0;return this._trans("readwrite",function(x){var E=O.schema.primKey,j=E.auto,E=E.keyPath;if(E&&K)throw new eo.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(K&&K.length!==d.length)throw new eo.InvalidArgument("Arguments objects and keys must have the same length");var T=d.length,E=E&&j?d.map(at(E)):d;return O.core.mutate({trans:x,type:"add",keys:K,values:E,wantResults:C}).then(function(d){var x=d.numFailures,E=d.results,K=d.lastResult,d=d.failures;if(0===x)return C?E:K;throw new V("".concat(O.name,".bulkAdd(): ").concat(x," of ").concat(T," operations failed"),d)})})},vt.prototype.bulkPut=function(d,x,E){var O=this,K=Array.isArray(x)?x:void 0,C=(E=E||(K?void 0:x))?E.allKeys:void 0;return this._trans("readwrite",function(x){var E=O.schema.primKey,j=E.auto,E=E.keyPath;if(E&&K)throw new eo.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(K&&K.length!==d.length)throw new eo.InvalidArgument("Arguments objects and keys must have the same length");var T=d.length,E=E&&j?d.map(at(E)):d;return O.core.mutate({trans:x,type:"put",keys:K,values:E,wantResults:C}).then(function(d){var x=d.numFailures,E=d.results,K=d.lastResult,d=d.failures;if(0===x)return C?E:K;throw new V("".concat(O.name,".bulkPut(): ").concat(x," of ").concat(T," operations failed"),d)})})},vt.prototype.bulkUpdate=function(d){var x=this,E=this.core,O=d.map(function(d){return d.key}),K=d.map(function(d){return d.changes}),C=[];return this._trans("readwrite",function(j){return E.getMany({trans:j,keys:O,cache:"clone"}).then(function(T){var q=[],R=[];d.forEach(function(d,E){var O=d.key,K=d.changes,j=T[E];if(j){for(var B=0,F=Object.keys(K);B<F.length;B++){var M=F[B],z=K[M];if(M===x.schema.primKey.keyPath){if(0!==st(z,O))throw new eo.Constraint("Cannot update primary key in bulkUpdate()")}else w(j,M,z)}C.push(E),q.push(O),R.push(j)}});var B=q.length;return E.mutate({trans:j,type:"put",keys:q,values:R,updates:{keys:O,changeSpecs:K}}).then(function(d){var E=d.numFailures,O=d.failures;if(0===E)return B;for(var K=0,j=Object.keys(O);K<j.length;K++){var T,q=j[K],R=C[Number(q)];null!=R&&(T=O[q],delete O[q],O[R]=T)}throw new V("".concat(x.name,".bulkUpdate(): ").concat(E," of ").concat(B," operations failed"),O)})})})},vt.prototype.bulkDelete=function(d){var x=this,E=d.length;return this._trans("readwrite",function(E){return x.core.mutate({trans:E,type:"delete",keys:d}).then(function(E){return ft(x,d,E)})}).then(function(d){var O=d.numFailures,K=d.lastResult,d=d.failures;if(0===O)return K;throw new V("".concat(x.name,".bulkDelete(): ").concat(O," of ").concat(E," operations failed"),d)})},vt);function vt(){}function mt(d){function t(x,O){if(O){for(var K=arguments.length,C=Array(K-1);--K;)C[K-1]=arguments[K];return E[x].subscribe.apply(null,C),d}if("string"==typeof x)return E[x]}var E={};t.addEventType=u;for(var K=1,C=arguments.length;K<C;++K)u(arguments[K]);return t;function u(d,K,C){if("object"!=typeof d){K=K||ne;var j={subscribers:[],fire:C=C||G,subscribe:function(d){-1===j.subscribers.indexOf(d)&&(j.subscribers.push(d),j.fire=K(j.fire,d))},unsubscribe:function(d){j.subscribers=j.subscribers.filter(function(x){return x!==d}),j.fire=j.subscribers.reduce(K,C)}};return E[d]=t[d]=j}x(d).forEach(function(x){var E=d[x];if(O(E))u(x,d[x][0],d[x][1]);else{if("asap"!==E)throw new eo.InvalidArgument("Invalid event config");var K=u(x,X,function(){for(var d=arguments.length,x=Array(d);d--;)x[d]=arguments[d];K.subscribers.forEach(function(d){v(function(){d.apply(null,x)})})})}})}}function bt(d,x){return o(x).from({prototype:d}),x}function gt(d,x){return!(d.filter||d.algorithm||d.or)&&(x?d.justLimit:!d.replayFilter)}function wt(d,x){d.filter=it(d.filter,x)}function _t(d,x,E){var O=d.replayFilter;d.replayFilter=O?function(){return it(O(),x())}:x,d.justLimit=E&&!O}function xt(d,x){if(d.isPrimKey)return x.primaryKey;var E=x.getIndexByKeyPath(d.index);if(!E)throw new eo.Schema("KeyPath "+d.index+" on object store "+x.name+" is not indexed");return E}function kt(d,x,E){var O=xt(d,x.schema);return x.openCursor({trans:E,values:!d.keysOnly,reverse:"prev"===d.dir,unique:!!d.unique,query:{index:O,range:d.range}})}function Ot(d,x,E,O){var K=d.replayFilter?it(d.filter,d.replayFilter()):d.filter;if(d.or){var C={},r=function(d,E,O){var j,T;K&&!K(E,O,function(d){return E.stop(d)},function(d){return E.fail(d)})||("[object ArrayBuffer]"==(T=""+(j=E.primaryKey))&&(T=""+new Uint8Array(j)),m(C,T)||(C[T]=!0,x(d,E,O)))};return Promise.all([d.or._iterate(r,E),Pt(kt(d,O,E),d.algorithm,r,!d.keysOnly&&d.valueMapper)])}return Pt(kt(d,O,E),it(d.algorithm,K),x,!d.keysOnly&&d.valueMapper)}function Pt(d,x,E,O){var K=Ie(O?function(d,x,K){return E(O(d),x,K)}:E);return d.then(function(d){if(d)return d.start(function(){var t=function(){return d.continue()};x&&!x(d,function(d){return t=d},function(x){d.stop(x),t=G},function(x){d.fail(x),t=G})||K(d.value,d,function(d){return t=d}),t()})})}var eM=(Et.prototype._read=function(d,x){var E=this._ctx;return E.error?E.table._trans(null,eI.bind(null,E.error)):E.table._trans("readonly",d).then(x)},Et.prototype._write=function(d){var x=this._ctx;return x.error?x.table._trans(null,eI.bind(null,x.error)):x.table._trans("readwrite",d,"locked")},Et.prototype._addAlgorithm=function(d){var x=this._ctx;x.algorithm=it(x.algorithm,d)},Et.prototype._iterate=function(d,x){return Ot(this._ctx,d,x,this._ctx.table.core)},Et.prototype.clone=function(d){var x=Object.create(this.constructor.prototype),E=Object.create(this._ctx);return d&&a(E,d),x._ctx=E,x},Et.prototype.raw=function(){return this._ctx.valueMapper=null,this},Et.prototype.each=function(d){var x=this._ctx;return this._read(function(E){return Ot(x,d,E,x.table.core)})},Et.prototype.count=function(d){var x=this;return this._read(function(d){var E=x._ctx,O=E.table.core;if(gt(E,!0))return O.count({trans:d,query:{index:xt(E,O.schema),range:E.range}}).then(function(d){return Math.min(d,E.limit)});var K=0;return Ot(E,function(){return++K,!1},d,O).then(function(){return K})}).then(d)},Et.prototype.sortBy=function(d,x){var E=d.split(".").reverse(),O=E[0],K=E.length-1;function o(d,x){return x?o(d[E[x]],x-1):d[O]}var C="next"===this._ctx.dir?1:-1;function u(d,x){return st(o(d,K),o(x,K))*C}return this.toArray(function(d){return d.sort(u)}).then(x)},Et.prototype.toArray=function(d){var x=this;return this._read(function(d){var E=x._ctx;if("next"===E.dir&&gt(E,!0)&&0<E.limit){var O=E.valueMapper,K=xt(E,E.table.core.schema);return E.table.core.query({trans:d,limit:E.limit,values:!0,query:{index:K,range:E.range}}).then(function(d){return d=d.result,O?d.map(O):d})}var C=[];return Ot(E,function(d){return C.push(d)},d,E.table.core).then(function(){return C})},d)},Et.prototype.offset=function(d){var x=this._ctx;return d<=0||(x.offset+=d,gt(x)?_t(x,function(){var x=d;return function(d,E){return 0===x||(1===x?--x:E(function(){d.advance(x),x=0}),!1)}}):_t(x,function(){var x=d;return function(){return--x<0}})),this},Et.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),_t(this._ctx,function(){var x=d;return function(d,E,O){return--x<=0&&E(O),0<=x}},!0),this},Et.prototype.until=function(d,x){return wt(this._ctx,function(E,O,K){return!d(E.value)||(O(K),x)}),this},Et.prototype.first=function(d){return this.limit(1).toArray(function(d){return d[0]}).then(d)},Et.prototype.last=function(d){return this.reverse().first(d)},Et.prototype.filter=function(d){var x;return wt(this._ctx,function(x){return d(x.value)}),(x=this._ctx).isMatch=it(x.isMatch,d),this},Et.prototype.and=function(d){return this.filter(d)},Et.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},Et.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Et.prototype.desc=function(){return this.reverse()},Et.prototype.eachKey=function(d){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(x,E){d(E.key,E)})},Et.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},Et.prototype.eachPrimaryKey=function(d){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(x,E){d(E.primaryKey,E)})},Et.prototype.keys=function(d){var x=this._ctx;x.keysOnly=!x.isMatch;var E=[];return this.each(function(d,x){E.push(x.key)}).then(function(){return E}).then(d)},Et.prototype.primaryKeys=function(d){var x=this._ctx;if("next"===x.dir&&gt(x,!0)&&0<x.limit)return this._read(function(d){var E=xt(x,x.table.core.schema);return x.table.core.query({trans:d,values:!1,limit:x.limit,query:{index:E,range:x.range}})}).then(function(d){return d.result}).then(d);x.keysOnly=!x.isMatch;var E=[];return this.each(function(d,x){E.push(x.primaryKey)}).then(function(){return E}).then(d)},Et.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},Et.prototype.firstKey=function(d){return this.limit(1).keys(function(d){return d[0]}).then(d)},Et.prototype.lastKey=function(d){return this.reverse().firstKey(d)},Et.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var x={};return wt(this._ctx,function(d){var E=d.primaryKey.toString(),d=m(x,E);return x[E]=!0,!d}),this},Et.prototype.modify=function(d){var E=this,O=this._ctx;return this._write(function(K){var C="function"==typeof d?d:function(x){return pt(x,d)},j=O.table.core,T=j.schema.primaryKey,q=T.outbound,R=T.extractKey,B=200,T=E.db._options.modifyChunkSize;function w(d,E){var O=E.failures,E=E.numFailures;M+=d-E;for(var K=0,C=x(O);K<C.length;K++){var j=C[K];F.push(O[j])}}T&&(B="object"==typeof T?T[j.name]||T["*"]||200:T);var F=[],M=0,z=[],W=d===St;return E.clone().primaryKeys().then(function(x){var E=gt(O)&&O.limit===1/0&&("function"!=typeof d||W)&&{index:O.index,range:O.range};return(function h(T){var F=Math.min(B,x.length-T),M=x.slice(T,T+F);return(W?Promise.resolve([]):j.getMany({trans:K,keys:M,cache:"immutable"})).then(function(z){var $=[],Y=[],Q=q?[]:null,et=W?M:[];if(!W)for(var en=0;en<F;++en){var er=z[en],ei={value:S(er),primKey:x[T+en]};!1!==C.call(ei,ei.value,ei)&&(null==ei.value?et.push(x[T+en]):q||0===st(R(er),R(ei.value))?(Y.push(ei.value),q&&Q.push(x[T+en])):(et.push(x[T+en]),$.push(ei.value)))}return Promise.resolve(0<$.length&&j.mutate({trans:K,type:"add",values:$}).then(function(d){for(var x in d.failures)et.splice(parseInt(x),1);w($.length,d)})).then(function(){return(0<Y.length||E&&"object"==typeof d)&&j.mutate({trans:K,type:"put",keys:Q,values:Y,criteria:E,changeSpec:"function"!=typeof d&&d,isAdditionalChunk:0<T}).then(function(d){return w(Y.length,d)})}).then(function(){return(0<et.length||E&&W)&&j.mutate({trans:K,type:"delete",keys:et,criteria:E,isAdditionalChunk:0<T}).then(function(d){return ft(O.table,et,d)}).then(function(d){return w(et.length,d)})}).then(function(){return x.length>T+F&&h(T+B)})})})(0).then(function(){if(0<F.length)throw new U("Error modifying one or more objects",F,M,z);return x.length})})})},Et.prototype.delete=function(){var d=this._ctx,x=d.range;return gt(d)&&!d.table.schema.yProps&&(d.isPrimKey||3===x.type)?this._write(function(E){var O=d.table.core.schema.primaryKey;return d.table.core.count({trans:E,query:{index:O,range:x}}).then(function(O){return d.table.core.mutate({trans:E,type:"deleteRange",range:x}).then(function(d){var x=d.failures,d=d.numFailures;if(d)throw new U("Could not delete some values",Object.keys(x).map(function(d){return x[d]}),O-d);return O-d})})}):this.modify(St)},Et);function Et(){}var St=function(d,x){return x.value=null};function jt(d,x){return d<x?-1:d===x?0:1}function At(d,x){return x<d?-1:d===x?0:1}function Ct(d,x,E){return(d=d instanceof eG?new d.Collection(d):d)._ctx.error=new(E||TypeError)(x),d}function Tt(d){return new d.Collection(d,function(){return Dt("")}).limit(0)}function It(d,x,E,O){var K,C,j,T,q,R,B,F=E.length;if(!E.every(function(d){return"string"==typeof d}))return Ct(d,eA);function t(d){K="next"===d?function(d){return d.toUpperCase()}:function(d){return d.toLowerCase()},C="next"===d?function(d){return d.toLowerCase()}:function(d){return d.toUpperCase()},j="next"===d?jt:At;var x=E.map(function(d){return{lower:C(d),upper:K(d)}}).sort(function(d,x){return j(d.lower,x.lower)});T=x.map(function(d){return d.upper}),q=x.map(function(d){return d.lower}),B="next"===(R=d)?"":O}t("next"),(d=new d.Collection(d,function(){return qt(T[0],q[F-1]+O)}))._ondirectionchange=function(d){t(d)};var M=0;return d._addAlgorithm(function(d,E,O){var K=d.key;if("string"!=typeof K)return!1;var z=C(K);if(x(z,q,M))return!0;for(var W=null,$=M;$<F;++$){var Y=function(d,x,E,O,K,C){for(var j=Math.min(d.length,O.length),T=-1,q=0;q<j;++q){var R=x[q];if(R!==O[q])return 0>K(d[q],E[q])?d.substr(0,q)+E[q]+E.substr(q+1):0>K(d[q],O[q])?d.substr(0,q)+O[q]+E.substr(q+1):0<=T?d.substr(0,T)+x[T]+E.substr(T+1):null;0>K(d[q],R)&&(T=q)}return j<O.length&&"next"===C?d+E.substr(d.length):j<d.length&&"prev"===C?d.substr(0,E.length):T<0?null:d.substr(0,T)+O[T]+E.substr(T+1)}(K,z,T[$],q[$],j,R);null===Y&&null===W?M=$+1:(null===W||0<j(W,Y))&&(W=Y)}return E(null!==W?function(){d.continue(W+B)}:O),!1}),d}function qt(d,x,E,O){return{type:2,lower:d,upper:x,lowerOpen:E,upperOpen:O}}function Dt(d){return{type:1,lower:d,upper:d}}var eG=(Object.defineProperty(Rt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(d,x,E,O){E=!1!==E,O=!0===O;try{return 0<this._cmp(d,x)||0===this._cmp(d,x)&&(E||O)&&(!E||!O)?Tt(this):new this.Collection(this,function(){return qt(d,x,!E,!O)})}catch(d){return Ct(this,ej)}},Rt.prototype.equals=function(d){return null==d?Ct(this,ej):new this.Collection(this,function(){return Dt(d)})},Rt.prototype.above=function(d){return null==d?Ct(this,ej):new this.Collection(this,function(){return qt(d,void 0,!0)})},Rt.prototype.aboveOrEqual=function(d){return null==d?Ct(this,ej):new this.Collection(this,function(){return qt(d,void 0,!1)})},Rt.prototype.below=function(d){return null==d?Ct(this,ej):new this.Collection(this,function(){return qt(void 0,d,!1,!0)})},Rt.prototype.belowOrEqual=function(d){return null==d?Ct(this,ej):new this.Collection(this,function(){return qt(void 0,d)})},Rt.prototype.startsWith=function(d){return"string"!=typeof d?Ct(this,eA):this.between(d,d+eC,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(d){return""===d?this.startsWith(d):It(this,function(d,x){return 0===d.indexOf(x[0])},[d],eC)},Rt.prototype.equalsIgnoreCase=function(d){return It(this,function(d,x){return d===x[0]},[d],"")},Rt.prototype.anyOfIgnoreCase=function(){var d=D.apply(Y,arguments);return 0===d.length?Tt(this):It(this,function(d,x){return -1!==x.indexOf(d)},d,"")},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var d=D.apply(Y,arguments);return 0===d.length?Tt(this):It(this,function(d,x){return x.some(function(x){return 0===d.indexOf(x)})},d,eC)},Rt.prototype.anyOf=function(){var d=this,x=D.apply(Y,arguments),E=this._cmp;try{x.sort(E)}catch(d){return Ct(this,ej)}if(0===x.length)return Tt(this);var O=new this.Collection(this,function(){return qt(x[0],x[x.length-1])});O._ondirectionchange=function(O){E="next"===O?d._ascending:d._descending,x.sort(E)};var K=0;return O._addAlgorithm(function(d,O,C){for(var j=d.key;0<E(j,x[K]);)if(++K===x.length)return O(C),!1;return 0===E(j,x[K])||(O(function(){d.continue(x[K])}),!1)}),O},Rt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var d=D.apply(Y,arguments);if(0===d.length)return new this.Collection(this);try{d.sort(this._ascending)}catch(d){return Ct(this,ej)}var x=d.reduce(function(d,x){return d?d.concat([[d[d.length-1][1],x]]):[[-1/0,x]]},null);return x.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(x,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(d,x){var E=this,O=this._cmp,K=this._ascending,C=this._descending,j=this._min,T=this._max;if(0===d.length)return Tt(this);if(!d.every(function(d){return void 0!==d[0]&&void 0!==d[1]&&0>=K(d[0],d[1])}))return Ct(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",eo.InvalidArgument);var q,R=!x||!1!==x.includeLowers,B=x&&!0===x.includeUppers,F=K;function h(d,x){return F(d[0],x[0])}try{(q=d.reduce(function(d,x){for(var E=0,K=d.length;E<K;++E){var C=d[E];if(0>O(x[0],C[1])&&0<O(x[1],C[0])){C[0]=j(C[0],x[0]),C[1]=T(C[1],x[1]);break}}return E===K&&d.push(x),d},[])).sort(h)}catch(d){return Ct(this,ej)}var M=0,z=B?function(d){return 0<K(d,q[M][1])}:function(d){return 0<=K(d,q[M][1])},W=R?function(d){return 0<C(d,q[M][0])}:function(d){return 0<=C(d,q[M][0])},$=z,d=new this.Collection(this,function(){return qt(q[0][0],q[q.length-1][1],!R,!B)});return d._ondirectionchange=function(d){F="next"===d?($=z,K):($=W,C),q.sort(h)},d._addAlgorithm(function(d,x,O){for(var C=d.key;$(C);)if(++M===q.length)return x(O),!1;return!z(C)&&!W(C)||(0===E._cmp(C,q[M][1])||0===E._cmp(C,q[M][0])||x(function(){F===K?d.continue(q[M][0]):d.continue(q[M][1])}),!1)}),d},Rt.prototype.startsWithAnyOf=function(){var d=D.apply(Y,arguments);return d.every(function(d){return"string"==typeof d})?0===d.length?Tt(this):this.inAnyRange(d.map(function(d){return[d,d+eC]})):Ct(this,"startsWithAnyOf() only works with strings")},Rt);function Rt(){}function Ft(d){return Ie(function(x){return Mt(x),d(x.target.error),!1})}function Mt(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var eL="storagemutated",eU="x-storagemutated-1",eV=mt(null,eL),ez=(zt.prototype._lock=function(){return y(!eb.global),++this._reculock,1!==this._reculock||eb.global||(eb.lockOwnerFor=this),this},zt.prototype._unlock=function(){if(y(!eb.global),0==--this._reculock)for(eb.global||(eb.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{$e(d[1],d[0])}catch(d){}}return this},zt.prototype._locked=function(){return this._reculock&&eb.lockOwnerFor!==this},zt.prototype.create=function(d){var x=this;if(!this.mode)return this;var E=this.db.idbdb,O=this.db._state.dbOpenError;if(y(!this.idbtrans),!d&&!E)switch(O&&O.name){case"DatabaseClosedError":throw new eo.DatabaseClosed(O);case"MissingAPIError":throw new eo.MissingAPI(O.message,O);default:throw new eo.OpenFailed(O)}if(!this.active)throw new eo.TransactionInactive;return y(null===this._completion._state),(d=this.idbtrans=d||(this.db.core||E).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ie(function(E){Mt(E),x._reject(d.error)}),d.onabort=Ie(function(E){Mt(E),x.active&&x._reject(new eo.Abort(d.error)),x.active=!1,x.on("abort").fire(E)}),d.oncomplete=Ie(function(){x.active=!1,x._resolve(),"mutatedParts"in d&&eV.storagemutated.fire(d.mutatedParts)}),this},zt.prototype._promise=function(d,x,E){var O=this;if("readwrite"===d&&"readwrite"!==this.mode)return eI(new eo.ReadOnly("Transaction is readonly"));if(!this.active)return eI(new eo.TransactionInactive);if(this._locked())return new _e(function(K,C){O._blockedFuncs.push([function(){O._promise(d,x,E).then(K,C)},eb])});if(E)return Ne(function(){var d=new _e(function(d,E){O._lock();var K=x(d,E,O);K&&K.then&&K.then(d,E)});return d.finally(function(){return O._unlock()}),d._lib=!0,d});var K=new _e(function(d,E){var K=x(d,E,O);K&&K.then&&K.then(d,E)});return K._lib=!0,K},zt.prototype._root=function(){return this.parent?this.parent._root():this},zt.prototype.waitFor=function(d){var x,E=this._root(),O=_e.resolve(d);E._waitingFor?E._waitingFor=E._waitingFor.then(function(){return O}):(E._waitingFor=O,E._waitingQueue=[],x=E.idbtrans.objectStore(E.storeNames[0]),function e(){for(++E._spinCount;E._waitingQueue.length;)E._waitingQueue.shift()();E._waitingFor&&(x.get(-1/0).onsuccess=e)}());var K=E._waitingFor;return new _e(function(d,x){O.then(function(x){return E._waitingQueue.push(Ie(d.bind(null,x)))},function(d){return E._waitingQueue.push(Ie(x.bind(null,d)))}).finally(function(){E._waitingFor===K&&(E._waitingFor=null)})})},zt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new eo.Abort))},zt.prototype.table=function(d){var x=this._memoizedTables||(this._memoizedTables={});if(m(x,d))return x[d];var E=this.schema[d];if(!E)throw new eo.NotFound("Table "+d+" not part of transaction");return(E=new this.db.Table(d,E,this)).core=this.db.core.table(d),x[d]=E},zt);function zt(){}function Wt(d,x,E,O,K,C,j,T){return{name:d,keyPath:x,unique:E,multi:O,auto:K,compound:C,src:(E&&!j?"&":"")+(O?"*":"")+(K?"++":"")+Yt(x),type:T}}function Yt(d){return"string"==typeof d?d:d?"["+[].join.call(d,"+")+"]":""}function $t(d,x,E){return{name:d,primKey:x,indexes:E,mappedClass:null,idxByName:E.reduce(function(d,x,E){return d[(E=[x.name,x])[0]]=E[1],d},{})}}var Qt=function(d){try{return d.only([[]]),Qt=function(){return[[]]},[[]]}catch(d){return Qt=function(){return eC},eC}};function Gt(d){return null==d?function(){}:"string"==typeof d?1===d.split(".").length?function(x){return x[d]}:function(x){return g(x,d)}:function(x){return g(x,d)}}function Xt(d){return[].slice.call(d)}var eW=0;function Jt(d){return null==d?":id":"string"==typeof d?d:"[".concat(d.join("+"),"]")}function tn(d,x){var E,K,C,j,T=x.db,x=(E=d._middlewares,K=d._deps,C=x,j=K.IDBKeyRange,K.indexedDB,{dbcore:(C=function(d,x,E){function _(d){if(3===d.type)return null;if(4===d.type)throw Error("Cannot convert never type to IDBKeyRange");var E=d.lower,O=d.upper,K=d.lowerOpen,d=d.upperOpen;return void 0===E?void 0===O?null:x.upperBound(O,!!d):void 0===O?x.lowerBound(E,!!K):x.bound(E,O,!!K,!!d)}var K,C,j=(K=E,C=Xt(d.objectStoreNames),{schema:{name:d.name,tables:C.map(function(d){return K.objectStore(d)}).map(function(d){var x=d.keyPath,E=d.autoIncrement,K=O(x),C={},E={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==x,compound:K,keyPath:x,autoIncrement:E,unique:!0,extractKey:Gt(x)},indexes:Xt(d.indexNames).map(function(x){return d.index(x)}).map(function(d){var x=d.name,E=d.unique,K=d.multiEntry,d=d.keyPath,K={name:x,compound:O(d),keyPath:d,unique:E,multiEntry:K,extractKey:Gt(d)};return C[Jt(d)]=K}),getIndexByKeyPath:function(d){return C[Jt(d)]}};return C[":id"]=E.primaryKey,null!=x&&(C[Jt(x)]=E.primaryKey),E})},hasGetAll:0<C.length&&"getAll"in K.objectStore(C[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=j.schema,T=j.hasGetAll,j=E.tables.map(function(d){var x=d.name;return{name:x,schema:d,mutate:function(d){var E=d.trans,O=d.type,K=d.keys,C=d.values,j=d.range;return new Promise(function(d,T){d=Ie(d);var q=E.objectStore(x),R=null==q.keyPath,B="put"===O||"add"===O;if(!B&&"delete"!==O&&"deleteRange"!==O)throw Error("Invalid operation type: "+O);var F,M=(K||C||{length:1}).length;if(K&&C&&K.length!==C.length)throw Error("Given keys array must have same length as given values array.");if(0===M)return d({numFailures:0,failures:{},results:[],lastResult:void 0});function u(d){++$,Mt(d)}var z=[],W=[],$=0;if("deleteRange"===O){if(4===j.type)return d({numFailures:$,failures:W,results:[],lastResult:void 0});3===j.type?z.push(F=q.clear()):z.push(F=q.delete(_(j)))}else{var R=B?R?[C,K]:[C,null]:[K,null],Y=R[0],Q=R[1];if(B)for(var et=0;et<M;++et)z.push(F=Q&&void 0!==Q[et]?q[O](Y[et],Q[et]):q[O](Y[et])),F.onerror=u;else for(et=0;et<M;++et)z.push(F=q[O](Y[et])),F.onerror=u}function p(x){x=x.target.result,z.forEach(function(d,x){return null!=d.error&&(W[x]=d.error)}),d({numFailures:$,failures:W,results:"delete"===O?K:z.map(function(d){return d.result}),lastResult:x})}F.onerror=function(d){u(d),p(d)},F.onsuccess=p})},getMany:function(d){var E=d.trans,O=d.keys;return new Promise(function(d,K){d=Ie(d);for(var C,j=E.objectStore(x),T=O.length,q=Array(T),R=0,B=0,s=function(x){q[(x=x.target)._pos]=x.result,++B===R&&d(q)},F=Ft(K),M=0;M<T;++M)null!=O[M]&&((C=j.get(O[M]))._pos=M,C.onsuccess=s,C.onerror=F,++R);0===R&&d(q)})},get:function(d){var E=d.trans,O=d.key;return new Promise(function(d,K){d=Ie(d);var C=E.objectStore(x).get(O);C.onsuccess=function(x){return d(x.target.result)},C.onerror=Ft(K)})},query:function(d){return new Promise(function(E,O){E=Ie(E);var K,C,j,q=d.trans,R=d.values,B=d.limit,F=d.query,M=B===1/0?void 0:B,z=F.index,F=F.range,q=q.objectStore(x),z=z.isPrimaryKey?q:q.index(z.name),F=_(F);if(0===B)return E({result:[]});T?((M=R?z.getAll(F,M):z.getAllKeys(F,M)).onsuccess=function(d){return E({result:d.target.result})},M.onerror=Ft(O)):(K=0,C=!R&&"openKeyCursor"in z?z.openKeyCursor(F):z.openCursor(F),j=[],C.onsuccess=function(d){var x=C.result;return x?(j.push(R?x.value:x.primaryKey),++K===B?E({result:j}):void x.continue()):E({result:j})},C.onerror=Ft(O))})},openCursor:function(d){var E=d.trans,O=d.values,K=d.query,C=d.reverse,j=d.unique;return new Promise(function(d,T){d=Ie(d);var q=K.index,R=K.range,B=E.objectStore(x),B=q.isPrimaryKey?B:B.index(q.name),q=C?j?"prevunique":"prev":j?"nextunique":"next",F=!O&&"openKeyCursor"in B?B.openKeyCursor(_(R),q):B.openCursor(_(R),q);F.onerror=Ft(T),F.onsuccess=Ie(function(x){var O,K,C,j,q=F.result;q?(q.___id=++eW,q.done=!1,O=q.continue.bind(q),K=(K=q.continuePrimaryKey)&&K.bind(q),C=q.advance.bind(q),j=function(){throw Error("Cursor not stopped")},q.trans=E,q.stop=q.continue=q.continuePrimaryKey=q.advance=function(){throw Error("Cursor not started")},q.fail=Ie(T),q.next=function(){var d=this,x=1;return this.start(function(){return x--?d.continue():d.stop()}).then(function(){return d})},q.start=function(d){function t(){if(F.result)try{d()}catch(d){q.fail(d)}else q.done=!0,q.start=function(){throw Error("Cursor behind last entry")},q.stop()}var x=new Promise(function(d,x){d=Ie(d),F.onerror=Ft(x),q.fail=x,q.stop=function(x){q.stop=q.continue=q.continuePrimaryKey=q.advance=j,d(x)}});return F.onsuccess=Ie(function(d){F.onsuccess=t,t()}),q.continue=O,q.continuePrimaryKey=K,q.advance=C,t(),x},d(q)):d(null)},T)})},count:function(d){var E=d.query,O=d.trans,K=E.index,C=E.range;return new Promise(function(d,E){var j=O.objectStore(x),T=K.isPrimaryKey?j:j.index(K.name),j=_(C),T=j?T.count(j):T.count();T.onsuccess=Ie(function(x){return d(x.target.result)}),T.onerror=Ft(E)})}}}),q={};return j.forEach(function(d){return q[d.name]=d}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(d){if(!q[d])throw Error("Table '".concat(d,"' not found"));return q[d]},MIN_KEY:-1/0,MAX_KEY:Qt(x),schema:E}}(T,j,C),E.dbcore.reduce(function(d,x){return x=x.create,_(_({},d),x(d))},C))});d.core=x.dbcore,d.tables.forEach(function(x){var E=x.name;d.core.schema.tables.some(function(d){return d.name===E})&&(x.core=d.core.table(E),d[E]instanceof d.Table&&(d[E].core=x.core))})}function nn(d,x,E,O){E.forEach(function(E){var C=O[E];x.forEach(function(x){var O=function e(d,x){return T(d,x)||(d=K(d))&&e(d,x)}(x,E);(!O||"value"in O&&void 0===O.value)&&(x===d.Transaction.prototype||x instanceof d.Transaction?l(x,E,{get:function(){return this.table(E)},set:function(d){j(this,E,{value:d,writable:!0,configurable:!0,enumerable:!0})}}):x[E]=new d.Table(E,C))})})}function rn(d,x){x.forEach(function(x){for(var E in x)x[E]instanceof d.Table&&delete x[E]})}function on(d,x){return d._cfg.version-x._cfg.version}function sn(d,x){var E,O={del:[],add:[],change:[]};for(E in d)x[E]||O.del.push(E);for(E in x){var K=d[E],C=x[E];if(K){var j={name:E,def:C,recreate:!1,del:[],add:[],change:[]};if(""+(K.primKey.keyPath||"")!=""+(C.primKey.keyPath||"")||K.primKey.auto!==C.primKey.auto)j.recreate=!0,O.change.push(j);else{var T=K.idxByName,q=C.idxByName,R=void 0;for(R in T)q[R]||j.del.push(R);for(R in q){var B=T[R],F=q[R];B?B.src!==F.src&&j.change.push(F):j.add.push(F)}(0<j.del.length||0<j.add.length||0<j.change.length)&&O.change.push(j)}}else O.add.push([E,C])}return O}function cn(d,x,E,O){var K=d.db.createObjectStore(x,E.keyPath?{keyPath:E.keyPath,autoIncrement:E.auto}:{autoIncrement:E.auto});return O.forEach(function(d){return fn(K,d)}),K}function ln(d,E){x(d).forEach(function(x){E.db.objectStoreNames.contains(x)||(es&&console.debug("Dexie: Creating missing table",x),cn(E,x,d[x].primKey,d[x].indexes))})}function fn(d,x){d.createIndex(x.name,x.keyPath,{unique:x.unique,multiEntry:x.multi})}function hn(d,x,E){var O={};return b(x.objectStoreNames,0).forEach(function(d){for(var x=E.objectStore(d),K=Wt(Yt(q=x.keyPath),q||"",!0,!1,!!x.autoIncrement,q&&"string"!=typeof q,!0),C=[],j=0;j<x.indexNames.length;++j){var T=x.index(x.indexNames[j]),q=T.keyPath,T=Wt(T.name,q,!!T.unique,!!T.multiEntry,!1,q&&"string"!=typeof q,!1);C.push(T)}O[d]=$t(d,K,C)}),O}function dn(x,E,O){for(var K=O.db.objectStoreNames,C=0;C<K.length;++C){var j=K[C],T=O.objectStore(j);x._hasGetAll="getAll"in T;for(var q=0;q<T.indexNames.length;++q){var R=T.indexNames[q],B=T.index(R).keyPath,F="string"==typeof B?B:"["+b(B).join("+")+"]";!E[j]||(B=E[j].idxByName[F])&&(B.name=R,delete E[j].idxByName[F],E[j].idxByName[R]=B)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&d.WorkerGlobalScope&&d instanceof d.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(x._hasGetAll=!1)}function pn(d){return d.split(",").map(function(d,x){var E=d.split(":"),K=null===(C=E[1])||void 0===C?void 0:C.trim(),C=(d=E[0].trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(C)?C.match(/^\[(.*)\]$/)[1].split("+"):C;return Wt(C,E||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),O(E),0===x,K)})}var e$=(vn.prototype._createTableSchema=$t,vn.prototype._parseIndexSyntax=pn,vn.prototype._parseStoresSpec=function(d,E){var O=this;x(d).forEach(function(x){if(null!==d[x]){var K=O._parseIndexSyntax(d[x]),C=K.shift();if(!C)throw new eo.Schema("Invalid schema for table "+x+": "+d[x]);if(C.unique=!0,C.multi)throw new eo.Schema("Primary key cannot be multiEntry*");K.forEach(function(d){if(d.auto)throw new eo.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new eo.Schema("Index must have a name and cannot be an empty string")}),K=O._createTableSchema(x,C,K),E[x]=K}})},vn.prototype.stores=function(d){var E=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,d):d;var d=E._versions,O={},K={};return d.forEach(function(d){a(O,d._cfg.storesSource),K=d._cfg.dbschema={},d._parseStoresSpec(O,K)}),E._dbSchema=K,rn(E,[E._allTables,E,E.Transaction.prototype]),nn(E,[E._allTables,E,E.Transaction.prototype,this._cfg.tables],x(K),K),E._storeNames=x(K),this},vn.prototype.upgrade=function(d){return this._cfg.contentUpgrade=re(this._cfg.contentUpgrade||G,d),this},vn);function vn(){}function mn(d,x){var E=d._dbNamesDB;return E||(E=d._dbNamesDB=new e2(eD,{addons:[],indexedDB:d,IDBKeyRange:x})).version(1).stores({dbnames:"name"}),E.table("dbnames")}function bn(d){return d&&"function"==typeof d.databases}function gn(d){return Ne(function(){return eb.letThrough=!0,d()})}function wn(d){return!("from"in d)}var _n=function(d,x){if(!this){var E=new _n;return d&&"d"in d&&a(E,d),E}a(this,arguments.length?{d:1,from:d,to:1<arguments.length?x:d}:{d:0})};function xn(d,x,E){var O=st(x,E);if(!isNaN(O)){if(0<O)throw RangeError();if(wn(d))return a(d,{from:x,to:E,d:1});var K=d.l,O=d.r;if(0>st(E,d.from))return K?xn(K,x,E):d.l={from:x,to:E,d:1,l:null,r:null},Kn(d);if(0<st(x,d.to))return O?xn(O,x,E):d.r={from:x,to:E,d:1,l:null,r:null},Kn(d);0>st(x,d.from)&&(d.from=x,d.l=null,d.d=O?O.d+1:1),0<st(E,d.to)&&(d.to=E,d.r=null,d.d=d.l?d.l.d+1:1),E=!d.r,K&&!d.l&&kn(d,K),O&&E&&kn(d,O)}}function kn(d,x){wn(x)||function e(d,x){var E=x.from,O=x.to,K=x.l,x=x.r;xn(d,E,O),K&&e(d,K),x&&e(d,x)}(d,x)}function On(d,x){var E=Pn(x),O=E.next();if(O.done)return!1;for(var K=O.value,C=Pn(d),j=C.next(K.from),T=j.value;!O.done&&!j.done;){if(0>=st(T.from,K.to)&&0<=st(T.to,K.from))return!0;0>st(K.from,T.from)?K=(O=E.next(T.from)).value:T=(j=C.next(K.from)).value}return!1}function Pn(d){var x=wn(d)?null:{s:0,n:d};return{next:function(d){for(var E=0<arguments.length;x;)switch(x.s){case 0:if(x.s=1,E)for(;x.n.l&&0>st(d,x.n.from);)x={up:x,n:x.n.l,s:1};else for(;x.n.l;)x={up:x,n:x.n.l,s:1};case 1:if(x.s=2,!E||0>=st(d,x.n.to))return{value:x.n,done:!1};case 2:if(x.n.r){x.s=3,x={up:x,n:x.n.r,s:0};continue}case 3:x=x.up}return{done:!0}}}}function Kn(d){var x,E,O=((null===(x=d.r)||void 0===x?void 0:x.d)||0)-((null===(E=d.l)||void 0===E?void 0:E.d)||0),K=1<O?"r":O<-1?"l":"";K&&(x="r"==K?"l":"r",E=_({},d),O=d[K],d.from=O.from,d.to=O.to,d[K]=O[K],E[K]=O[x],(d[x]=E).d=En(E)),d.d=En(d)}function En(d){var x=d.r,d=d.l;return(x?d?Math.max(x.d,d.d):x.d:d?d.d:0)+1}function Sn(d,E){return x(E).forEach(function(x){d[x]?kn(d[x],E[x]):d[x]=function e(d){var x,E,O={};for(x in d)m(d,x)&&(E=d[x],O[x]=!E||"object"!=typeof E||F.has(E.constructor)?E:e(E));return O}(E[x])}),d}function jn(d,x){return d.all||x.all||Object.keys(d).some(function(E){return x[E]&&On(x[E],d[E])})}r(_n.prototype,((en={add:function(d){return kn(this,d),this},addKey:function(d){return xn(this,d,d),this},addKeys:function(d){var x=this;return d.forEach(function(d){return xn(x,d,d)}),this},hasKey:function(d){var x=Pn(this).next(d).value;return x&&0>=st(x.from,d)&&0<=st(x.to,d)}})[W]=function(){return Pn(this)},en));var eY={},eQ={},eX=!1;function In(d){Sn(eQ,d),eX||(eX=!0,setTimeout(function(){eX=!1,qn(eQ,(eQ={},!1))},0))}function qn(d,x){void 0===x&&(x=!1);var E=new Set;if(d.all)for(var O=0,K=Object.values(eY);O<K.length;O++)Dn(j=K[O],d,E,x);else for(var C in d){var j,T=/^idb\:\/\/(.*)\/(.*)\//.exec(C);T&&(C=T[1],T=T[2],(j=eY["idb://".concat(C,"/").concat(T)])&&Dn(j,d,E,x))}E.forEach(function(d){return d()})}function Dn(d,x,E,O){for(var K=[],C=0,j=Object.entries(d.queries.query);C<j.length;C++){for(var T=j[C],q=T[0],R=[],B=0,F=T[1];B<F.length;B++){var M=F[B];jn(x,M.obsSet)?M.subscribers.forEach(function(d){return E.add(d)}):O&&R.push(M)}O&&K.push([q,R])}if(O)for(var z=0;z<K.length;z++){var W=K[z],q=W[0],R=W[1];d.queries.query[q]=R}}function Rn(d){function e(x){return d.next(x)}var x=n(e),E=n(function(x){return d.throw(x)});function n(d){return function(K){var C=d(K),K=C.value;return C.done?K:K&&"function"==typeof K.then?K.then(x,E):O(K)?Promise.all(K).then(x,E):x(K)}}return n(e)()}function Fn(d,x,E){for(var K=O(d)?d.slice():[d],C=0;C<E;++C)K.push(x);return K}var eJ={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return _(_({},d),{table:function(x){var E=d.table(x),O=E.schema,K={},C=[];function c(d,x,E){var O=Jt(d),j=K[O]=K[O]||[],T=null==d?0:"string"==typeof d?1:d.length,q=0<x,q=_(_({},E),{name:q?"".concat(O,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:q,keyTail:x,keyLength:T,extractKey:Gt(d),unique:!q&&E.unique});return j.push(q),q.isPrimaryKey||C.push(q),1<T&&c(2===T?d[0]:d.slice(0,T-1),x+1,E),j.sort(function(d,x){return d.keyTail-x.keyTail}),q}x=c(O.primaryKey.keyPath,0,O.primaryKey),K[":id"]=[x];for(var j=0,T=O.indexes;j<T.length;j++){var q=T[j];c(q.keyPath,0,q)}function l(x){var E,O=x.query.index;return O.isVirtual?_(_({},x),{query:{index:O.lowLevelIndex,range:(E=x.query.range,O=O.keyTail,{type:1===E.type?2:E.type,lower:Fn(E.lower,E.lowerOpen?d.MAX_KEY:d.MIN_KEY,O),lowerOpen:!0,upper:Fn(E.upper,E.upperOpen?d.MIN_KEY:d.MAX_KEY,O),upperOpen:!0})}}):x}return _(_({},E),{schema:_(_({},O),{primaryKey:x,indexes:C,getIndexByKeyPath:function(d){return(d=K[Jt(d)])&&d[0]}}),count:function(d){return E.count(l(d))},query:function(d){return E.query(l(d))},openCursor:function(x){var O=x.query.index,K=O.keyTail,C=O.isVirtual,j=O.keyLength;return C?E.openCursor(l(x)).then(function(E){return E&&Object.create(E,{continue:{value:function(O){null!=O?E.continue(Fn(O,x.reverse?d.MAX_KEY:d.MIN_KEY,K)):x.unique?E.continue(E.key.slice(0,j).concat(x.reverse?d.MIN_KEY:d.MAX_KEY,K)):E.continue()}},continuePrimaryKey:{value:function(x,O){E.continuePrimaryKey(Fn(x,d.MAX_KEY,K),O)}},primaryKey:{get:function(){return E.primaryKey}},key:{get:function(){var d=E.key;return 1===j?d[0]:d.slice(0,j)}},value:{get:function(){return E.value}}})}):E.openCursor(x)}})}})}};function Nn(d,E,O,K){return O=O||{},K=K||"",x(d).forEach(function(x){var C,j,T;m(E,x)?(C=d[x],j=E[x],"object"==typeof C&&"object"==typeof j&&C&&j?(T=A(C))!==A(j)?O[K+x]=E[x]:"Object"===T?Nn(C,j,O,K+x+"."):C!==j&&(O[K+x]=E[x]):C!==j&&(O[K+x]=E[x])):O[K+x]=void 0}),x(E).forEach(function(x){m(d,x)||(O[K+x]=E[x])}),O}function Ln(d,x){return"delete"===x.type?x.keys:x.keys||x.values.map(d.extractKey)}var eH={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return _(_({},d),{table:function(x){var E=d.table(x),O=E.schema.primaryKey;return _(_({},E),{mutate:function(d){var K=eb.trans,C=K.table(x).hook,j=C.deleting,T=C.creating,q=C.updating;switch(d.type){case"add":if(T.fire===G)break;return K._promise("readwrite",function(){return a(d)},!0);case"put":if(T.fire===G&&q.fire===G)break;return K._promise("readwrite",function(){return a(d)},!0);case"delete":if(j.fire===G)break;return K._promise("readwrite",function(){return a(d)},!0);case"deleteRange":if(j.fire===G)break;return K._promise("readwrite",function(){return function n(d,x,K){return E.query({trans:d,values:!1,query:{index:O,range:x},limit:K}).then(function(E){var O=E.result;return a({type:"delete",keys:O,trans:d}).then(function(E){return 0<E.numFailures?Promise.reject(E.failures[0]):O.length<K?{failures:[],numFailures:0,lastResult:void 0}:n(d,_(_({},x),{lower:O[O.length-1],lowerOpen:!0}),K)})})}(d.trans,d.range,1e4)},!0)}return E.mutate(d);function a(d){var x,K=eb.trans,C=d.keys||Ln(O,d);if(!C)throw Error("Keys missing");return"delete"!==(d="add"===d.type||"put"===d.type?_(_({},d),{keys:C}):_({},d)).type&&(d.values=i([],d.values,!0)),d.keys&&(d.keys=i([],d.keys,!0)),("add"===(x=d).type?Promise.resolve([]):E.getMany({trans:x.trans,keys:C,cache:"immutable"})).then(function(x){var R=C.map(function(E,C){var R,B,F,M=x[C],z={onerror:null,onsuccess:null};return"delete"===d.type?j.fire.call(z,E,M,K):"add"===d.type||void 0===M?(R=T.fire.call(z,E,d.values[C],K),null==E&&null!=R&&(d.keys[C]=E=R,O.outbound||w(d.values[C],O.keyPath,E))):(R=Nn(M,d.values[C]),(B=q.fire.call(z,R,E,M,K))&&(F=d.values[C],Object.keys(B).forEach(function(d){m(F,d)?F[d]=B[d]:w(F,d,B[d])}))),z});return E.mutate(d).then(function(E){for(var O=E.failures,K=E.results,j=E.numFailures,E=E.lastResult,T=0;T<C.length;++T){var q=(K||C)[T],B=R[T];null==q?B.onerror&&B.onerror(O[T]):B.onsuccess&&B.onsuccess("put"===d.type&&x[T]?d.values[T]:q)}return{failures:O,results:K,numFailures:j,lastResult:E}}).catch(function(d){return R.forEach(function(x){return x.onerror&&x.onerror(d)}),Promise.reject(d)})})}}})}})}};function Vn(d,x,E){try{if(!x||x.keys.length<d.length)return null;for(var O=[],K=0,C=0;K<x.keys.length&&C<d.length;++K)0===st(x.keys[K],d[C])&&(O.push(E?S(x.values[K]):x.values[K]),++C);return O.length===d.length?O:null}catch(d){return null}}var eZ={stack:"dbcore",level:-1,create:function(d){return{table:function(x){var E=d.table(x);return _(_({},E),{getMany:function(d){if(!d.cache)return E.getMany(d);var x=Vn(d.keys,d.trans._cache,"clone"===d.cache);return x?_e.resolve(x):E.getMany(d).then(function(x){return d.trans._cache={keys:d.keys,values:"clone"===d.cache?S(x):x},x})},mutate:function(d){return"add"!==d.type&&(d.trans._cache=null),E.mutate(d)}})}}}};function Wn(d,x){return"readonly"===d.trans.mode&&!!d.subscr&&!d.trans.explicit&&"disabled"!==d.trans.db._options.cache&&!x.schema.primaryKey.outbound}function Yn(d,x){switch(d){case"query":return x.values&&!x.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var e0={stack:"dbcore",level:0,name:"Observability",create:function(d){var E=d.schema.name,K=new _n(d.MIN_KEY,d.MAX_KEY);return _(_({},d),{transaction:function(x,E,O){if(eb.subscr&&"readonly"!==E)throw new eo.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(eb.querier));return d.transaction(x,E,O)},table:function(C){var j=d.table(C),T=j.schema,q=T.primaryKey,e=T.indexes,R=q.extractKey,B=q.outbound,F=q.autoIncrement&&e.filter(function(d){return d.compound&&d.keyPath.includes(q.keyPath)}),M=_(_({},j),{mutate:function(x){function u(d){return z[d="idb://".concat(E,"/").concat(C,"/").concat(d)]||(z[d]=new _n)}var R,B,M=x.trans,z=x.mutatedParts||(x.mutatedParts={}),W=u(""),$=u(":dels"),Y=x.type,Q="deleteRange"===x.type?[x.range]:"delete"===x.type?[x.keys]:x.values.length<50?[Ln(q,x).filter(function(d){return d}),x.values]:[],et=Q[0],en=Q[1],Q=x.trans._cache;return O(et)?(W.addKeys(et),(Q="delete"===Y||et.length===en.length?Vn(et,Q):null)||$.addKeys(et),(Q||en)&&(R=Q,B=en,T.indexes.forEach(function(d){var x=u(d.name||"");function r(x){return null!=x?d.extractKey(x):null}function i(E){return d.multiEntry&&O(E)?E.forEach(function(d){return x.addKey(d)}):x.addKey(E)}(R||B).forEach(function(d,x){var E=R&&r(R[x]),x=B&&r(B[x]);0!==st(E,x)&&(null!=E&&i(E),null!=x&&i(x))})}))):et?(en={from:null!==(en=et.lower)&&void 0!==en?en:d.MIN_KEY,to:null!==(en=et.upper)&&void 0!==en?en:d.MAX_KEY},$.add(en),W.add(en)):(W.add(K),$.add(K),T.indexes.forEach(function(d){return u(d.name).add(K)})),j.mutate(x).then(function(d){return!et||"add"!==x.type&&"put"!==x.type||(W.addKeys(d.results),F&&F.forEach(function(E){for(var O=x.values.map(function(d){return E.extractKey(d)}),K=E.keyPath.findIndex(function(d){return d===q.keyPath}),C=0,j=d.results.length;C<j;++C)O[C][K]=d.results[C];u(E.name).addKeys(O)})),M.mutatedParts=Sn(M.mutatedParts||{},z),d})}}),e=function(x){var E=x.query,x=E.index,E=E.range;return[x,new _n(null!==(x=E.lower)&&void 0!==x?x:d.MIN_KEY,null!==(E=E.upper)&&void 0!==E?E:d.MAX_KEY)]},z={get:function(d){return[q,new _n(d.key)]},getMany:function(d){return[q,(new _n).addKeys(d.keys)]},count:e,query:e,openCursor:e};return x(z).forEach(function(d){M[d]=function(x){var O=eb.subscr,T=!!O,q=Wn(eb,j)&&Yn(d,x)?x.obsSet={}:O;if(T){var r=function(d){return q[d="idb://".concat(E,"/").concat(C,"/").concat(d)]||(q[d]=new _n)},F=r(""),M=r(":dels"),O=z[d](x),T=O[0],O=O[1];if(("query"===d&&T.isPrimaryKey&&!x.values?M:r(T.name||"")).add(O),!T.isPrimaryKey){if("count"!==d){var W="query"===d&&B&&x.values&&j.query(_(_({},x),{values:!1}));return j[d].apply(this,arguments).then(function(E){if("query"===d){if(B&&x.values)return W.then(function(d){return d=d.result,F.addKeys(d),E});var O=x.values?E.result.map(R):E.result;(x.values?F:M).addKeys(O)}else if("openCursor"===d){var K=x.values;return E&&Object.create(E,{key:{get:function(){return M.addKey(E.primaryKey),E.key}},primaryKey:{get:function(){var d=E.primaryKey;return M.addKey(d),d}},value:{get:function(){return K&&F.addKey(E.primaryKey),E.value}}})}return E})}M.add(K)}}return j[d].apply(this,arguments)}}),M}})}};function Qn(d,x,E){if(0===E.numFailures)return x;if("deleteRange"===x.type)return null;var K=x.keys?x.keys.length:"values"in x&&x.values?x.values.length:1;return E.numFailures===K?null:(O((x=_({},x)).keys)&&(x.keys=x.keys.filter(function(d,x){return!(x in E.failures)})),"values"in x&&O(x.values)&&(x.values=x.values.filter(function(d,x){return!(x in E.failures)})),x)}function Gn(d,x){return(void 0===x.lower||(x.lowerOpen?0<st(d,x.lower):0<=st(d,x.lower)))&&(void 0===x.upper||(x.upperOpen?0>st(d,x.upper):0>=st(d,x.upper)))}function Xn(d,x,E,K,C,j){if(!E||0===E.length)return d;var T=x.query.index,q=T.multiEntry,R=x.query.range,B=K.schema.primaryKey.extractKey,F=T.extractKey,M=(T.lowLevelIndex||T).extractKey,E=E.reduce(function(d,E){var K=d,C=[];if("add"===E.type||"put"===E.type)for(var j=new _n,T=E.values.length-1;0<=T;--T){var M,z=E.values[T],W=B(z);j.hasKey(W)||(M=F(z),(q&&O(M)?M.some(function(d){return Gn(d,R)}):Gn(M,R))&&(j.addKey(W),C.push(z)))}switch(E.type){case"add":var $=(new _n).addKeys(x.values?d.map(function(d){return B(d)}):d),K=d.concat(x.values?C.filter(function(d){return d=B(d),!$.hasKey(d)&&($.addKey(d),!0)}):C.map(function(d){return B(d)}).filter(function(d){return!$.hasKey(d)&&($.addKey(d),!0)}));break;case"put":var Y=(new _n).addKeys(E.values.map(function(d){return B(d)}));K=d.filter(function(d){return!Y.hasKey(x.values?B(d):d)}).concat(x.values?C:C.map(function(d){return B(d)}));break;case"delete":var Q=(new _n).addKeys(E.keys);K=d.filter(function(d){return!Q.hasKey(x.values?B(d):d)});break;case"deleteRange":var et=E.range;K=d.filter(function(d){return!Gn(B(d),et)})}return K},d);return E===d?d:(E.sort(function(d,x){return st(M(d),M(x))||st(B(d),B(x))}),x.limit&&x.limit<1/0&&(E.length>x.limit?E.length=x.limit:d.length===x.limit&&E.length<x.limit&&(C.dirty=!0)),j?Object.freeze(E):E)}function Hn(d,x){return 0===st(d.lower,x.lower)&&0===st(d.upper,x.upper)&&!!d.lowerOpen==!!x.lowerOpen&&!!d.upperOpen==!!x.upperOpen}var e1={stack:"dbcore",level:0,name:"Cache",create:function(d){var x=d.schema.name;return _(_({},d),{transaction:function(E,O,K){var C,j,T=d.transaction(E,O,K);return"readwrite"===O&&(j=(C=new AbortController).signal,K=function(K){return function(){if(C.abort(),"readwrite"===O){for(var j=new Set,q=0;q<E.length;q++){var R=E[q],B=eY["idb://".concat(x,"/").concat(R)];if(B){var F=d.table(R),M=B.optimisticOps.filter(function(d){return d.trans===T});if(T._explicit&&K&&T.mutatedParts)for(var z=0,W=Object.values(B.queries.query);z<W.length;z++)for(var $=0,Y=(en=W[z]).slice();$<Y.length;$++)jn((er=Y[$]).obsSet,T.mutatedParts)&&(I(en,er),er.subscribers.forEach(function(d){return j.add(d)}));else if(0<M.length){B.optimisticOps=B.optimisticOps.filter(function(d){return d.trans!==T});for(var Q=0,et=Object.values(B.queries.query);Q<et.length;Q++)for(var en,er,ei,eo=0,ea=(en=et[Q]).slice();eo<ea.length;eo++)null!=(er=ea[eo]).res&&T.mutatedParts&&(K&&!er.dirty?(ei=Object.isFrozen(er.res),ei=Xn(er.res,er.req,M,F,er,ei),er.dirty?(I(en,er),er.subscribers.forEach(function(d){return j.add(d)})):ei!==er.res&&(er.res=ei,er.promise=_e.resolve({result:ei}))):(er.dirty&&I(en,er),er.subscribers.forEach(function(d){return j.add(d)})))}}}j.forEach(function(d){return d()})}}},T.addEventListener("abort",K(!1),{signal:j}),T.addEventListener("error",K(!1),{signal:j}),T.addEventListener("complete",K(!0),{signal:j})),T},table:function(E){var O=d.table(E),K=O.schema.primaryKey;return _(_({},O),{mutate:function(d){var C=eb.trans;if(K.outbound||"disabled"===C.db._options.cache||C.explicit||"readwrite"!==C.idbtrans.mode)return O.mutate(d);var j=eY["idb://".concat(x,"/").concat(E)];return j?(C=O.mutate(d),("add"===d.type||"put"===d.type)&&(50<=d.values.length||Ln(K,d).some(function(d){return null==d}))?C.then(function(x){var E=Qn(0,_(_({},d),{values:d.values.map(function(d,E){var O;return x.failures[E]||w(d=null!==(O=K.keyPath)&&void 0!==O&&O.includes(".")?S(d):_({},d),K.keyPath,x.results[E]),d})}),x);j.optimisticOps.push(E),queueMicrotask(function(){return d.mutatedParts&&In(d.mutatedParts)})}):(j.optimisticOps.push(d),d.mutatedParts&&In(d.mutatedParts),C.then(function(x){0<x.numFailures&&(I(j.optimisticOps,d),(x=Qn(0,d,x))&&j.optimisticOps.push(x),d.mutatedParts&&In(d.mutatedParts))}),C.catch(function(){I(j.optimisticOps,d),d.mutatedParts&&In(d.mutatedParts)})),C):O.mutate(d)},query:function(d){if(!Wn(eb,O)||!Yn("query",d))return O.query(d);var K,C,j="immutable"===(null===(B=eb.trans)||void 0===B?void 0:B.db._options.cache),T=eb,q=T.requery,R=T.signal,B=function(d,x,E,O){var K=eY["idb://".concat(d,"/").concat(x)];if(!K)return[];if(!(x=K.queries[E]))return[null,!1,K,null];var C=x[(O.query?O.query.index.name:null)||""];if(!C)return[null,!1,K,null];switch(E){case"query":var j=C.find(function(d){return d.req.limit===O.limit&&d.req.values===O.values&&Hn(d.req.query.range,O.query.range)});return j?[j,!0,K,C]:[C.find(function(d){var x,E;return("limit"in d.req?d.req.limit:1/0)>=O.limit&&(!O.values||d.req.values)&&(x=d.req.query.range,E=O.query.range,0>=function(d,x,E,O){if(void 0===d)return void 0!==x?-1:0;if(void 0===x)return 1;if(0===(x=st(d,x))){if(E&&O)return 0;if(E)return 1;if(O)return -1}return x}(x.lower,E.lower,x.lowerOpen,E.lowerOpen)&&0<=function(d,x,E,O){if(void 0===d)return void 0!==x?1:0;if(void 0===x)return -1;if(0===(x=st(d,x))){if(E&&O)return 0;if(E)return -1;if(O)return 1}return x}(x.upper,E.upper,x.upperOpen,E.upperOpen))}),!1,K,C];case"count":return[j=C.find(function(d){return Hn(d.req.query.range,O.query.range)}),!!j,K,C]}}(x,E,"query",d),F=B[0],T=B[1],M=B[2],z=B[3];return F&&T?F.obsSet=d.obsSet:(T=O.query(d).then(function(d){var x=d.result;if(F&&(F.res=x),j){for(var E=0,O=x.length;E<O;++E)Object.freeze(x[E]);Object.freeze(x)}else d.result=S(x);return d}).catch(function(d){return z&&F&&I(z,F),Promise.reject(d)}),F={obsSet:d.obsSet,promise:T,subscribers:new Set,type:"query",req:d,dirty:!1},z?z.push(F):(z=[F],(M=M||(eY["idb://".concat(x,"/").concat(E)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[d.query.index.name||""]=z)),K=F,C=z,K.subscribers.add(q),R.addEventListener("abort",function(){K.subscribers.delete(q),0===K.subscribers.size&&setTimeout(function(){0===K.subscribers.size&&I(C,K)},3e3)}),F.promise.then(function(x){return{result:Xn(x.result,d,null==M?void 0:M.optimisticOps,O,F,j)}})}})}})}};function tr(d,x){return new Proxy(d,{get:function(d,E,O){return"db"===E?x:Reflect.get(d,E,O)}})}var e2=(rr.prototype.version=function(d){if(isNaN(d)||d<.1)throw new eo.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new eo.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var x=this._versions,E=x.filter(function(x){return x._cfg.version===d})[0];return E||(E=new this.Version(d),x.push(E),x.sort(on),E.stores({}),this._state.autoSchema=!1,E)},rr.prototype._whenReady=function(d){var x=this;return this.idbdb&&(this._state.openComplete||eb.letThrough||this._vip)?d():new _e(function(d,E){if(x._state.openComplete)return E(new eo.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return void E(new eo.DatabaseClosed);x.open().catch(G)}x._state.dbReadyPromise.then(d,E)}).then(d)},rr.prototype.use=function(d){var x=d.stack,E=d.create,O=d.level,K=d.name;return K&&this.unuse({stack:x,name:K}),(d=this._middlewares[x]||(this._middlewares[x]=[])).push({stack:x,create:E,level:null==O?10:O,name:K}),d.sort(function(d,x){return d.level-x.level}),this},rr.prototype.unuse=function(d){var x=d.stack,E=d.name,O=d.create;return x&&this._middlewares[x]&&(this._middlewares[x]=this._middlewares[x].filter(function(d){return O?d.create!==O:!!E&&d.name!==E})),this},rr.prototype.open=function(){var d=this;return $e(em,function(){return function(d){var E=d._state,O=d._deps.indexedDB;if(E.isBeingOpened||d.idbdb)return E.dbReadyPromise.then(function(){return E.dbOpenError?eI(E.dbOpenError):d});E.isBeingOpened=!0,E.dbOpenError=null,E.openComplete=!1;var K=E.openCanceller,C=Math.round(10*d.verno),j=!1;function e(){if(E.openCanceller!==K)throw new eo.DatabaseClosed("db.open() was cancelled")}var T,q=E.dbReadyResolve,R=null,B=!1;return _e.race([K,("undefined"==typeof navigator?_e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(d){function t(){return indexedDB.databases().finally(d)}T=setInterval(t,100),t()}).finally(function(){return clearInterval(T)}):Promise.resolve()).then(function y(){return new _e(function(K,T){if(e(),!O)throw new eo.MissingAPI;var q=d.name,F=E.autoSchema||!C?O.open(q):O.open(q,C);if(!F)throw new eo.MissingAPI;F.onerror=Ft(T),F.onblocked=Ie(d._fireOnBlocked),F.onupgradeneeded=Ie(function(K){var C,M,z,W,$,Y,et;R=F.transaction,E.autoSchema&&!d._options.allowEmptyDB?(F.onerror=Mt,R.abort(),F.result.close(),(C=O.deleteDatabase(q)).onsuccess=C.onerror=Ie(function(){T(new eo.NoSuchDatabase("Database ".concat(q," doesnt exist")))})):(R.onerror=Ft(T),B=(K=K.oldVersion>0x4000000000000000?0:K.oldVersion)<1,d.idbdb=F.result,j&&function(d,x){ln(d._dbSchema,x),x.db.version%10!=0||x.objectStoreNames.contains("$meta")||x.db.createObjectStore("$meta").add(Math.ceil(x.db.version/10-1),"version");var E=hn(0,d.idbdb,x);dn(d,d._dbSchema,x);for(var O=0,K=sn(E,d._dbSchema).change;O<K.length;O++){var C=function(d){if(d.change.length||d.recreate)return console.warn("Unable to patch indexes of table ".concat(d.name," because it has changes on the type of index or primary key.")),{value:void 0};var E=x.objectStore(d.name);d.add.forEach(function(x){es&&console.debug("Dexie upgrade patch: Creating missing index ".concat(d.name,".").concat(x.src)),fn(E,x)})}(K[O]);if("object"==typeof C)return C.value}}(d,R),M=K/10,z=R,W=d._dbSchema,z.objectStoreNames.contains("$meta")&&!W.$meta&&(W.$meta=$t("$meta",pn("")[0],[]),d._storeNames.push("$meta")),($=d._createTransaction("readwrite",d._storeNames,W)).create(z),$._completion.catch(T),Y=$._reject.bind($),et=eb.transless||eb,Ne(function(){return eb.trans=$,eb.transless=et,0!==M?(tn(d,z),($.storeNames.includes("$meta")?$.table("$meta").get("version").then(function(d){return null!=d?d:M}):_e.resolve(M)).then(function(E){var O,K,C;return O=E,K=[],E=d._versions,C=d._dbSchema=hn(0,d.idbdb,z),0!==(E=E.filter(function(d){return d._cfg.version>=O})).length?(E.forEach(function(E){K.push(function(){var K=C,j=E._cfg.dbschema;dn(d,K,z),dn(d,j,z),C=d._dbSchema=j;var T=sn(K,j);T.add.forEach(function(d){cn(z,d[0],d[1].primKey,d[1].indexes)}),T.change.forEach(function(d){if(d.recreate)throw new eo.Upgrade("Not yet support for changing primary key");var x=z.objectStore(d.name);d.add.forEach(function(d){return fn(x,d)}),d.change.forEach(function(d){x.deleteIndex(d.name),fn(x,d)}),d.del.forEach(function(d){return x.deleteIndex(d)})});var q=E._cfg.contentUpgrade;if(q&&E._cfg.version>O){tn(d,z),$._memoizedTables={};var R=k(j);T.del.forEach(function(d){R[d]=K[d]}),rn(d,[d.Transaction.prototype]),nn(d,[d.Transaction.prototype],x(R),R),$.schema=R;var B,F=Q(q);return F&&Le(),T=_e.follow(function(){var d;(B=q($))&&F&&(d=Ue.bind(null,null),B.then(d,d))}),B&&"function"==typeof B.then?_e.resolve(B):T.then(function(){return B})}}),K.push(function(x){var O=E._cfg.dbschema;[].slice.call(x.db.objectStoreNames).forEach(function(d){return null==O[d]&&x.db.deleteObjectStore(d)}),rn(d,[d.Transaction.prototype]),nn(d,[d.Transaction.prototype],d._storeNames,d._dbSchema),$.schema=d._dbSchema}),K.push(function(x){d.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(d.idbdb.version/10)===E._cfg.version?(d.idbdb.deleteObjectStore("$meta"),delete d._dbSchema.$meta,d._storeNames=d._storeNames.filter(function(d){return"$meta"!==d})):x.objectStore("$meta").put(E._cfg.version,"version"))})}),(function e(){return K.length?_e.resolve(K.shift()($.idbtrans)).then(e):_e.resolve()})().then(function(){ln(C,z)})):_e.resolve()}).catch(Y)):(x(W).forEach(function(d){cn(z,d,W[d].primKey,W[d].indexes)}),tn(d,z),void _e.follow(function(){return d.on.populate.fire($)}).catch(Y))}))},T),F.onsuccess=Ie(function(){R=null;var O,T,M,z=d.idbdb=F.result,W=b(z.objectStoreNames);if(0<W.length)try{var $=z.transaction(1===W.length?W[0]:W,"readonly");if(E.autoSchema)O=z,T=$,d.verno=O.version/10,T=d._dbSchema=hn(0,O,T),d._storeNames=b(O.objectStoreNames,0),nn(d,[d._allTables],x(T),T);else if(dn(d,d._dbSchema,$),((M=sn(hn(0,(M=d).idbdb,$),M._dbSchema)).add.length||M.change.some(function(d){return d.add.length||d.change.length}))&&!j)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),z.close(),C=z.version+1,j=!0,K(y());tn(d,$)}catch(d){}eT.push(d),z.onversionchange=Ie(function(x){E.vcFired=!0,d.on("versionchange").fire(x)}),z.onclose=Ie(function(){d.close({disableAutoOpen:!1})}),B&&(M=d._deps,$=q,z=M.indexedDB,M=M.IDBKeyRange,bn(z)||$===eD||mn(z,M).put({name:$}).catch(G)),K()},T)}).catch(function(d){switch(null==d?void 0:d.name){case"UnknownError":if(0<E.PR1398_maxLoop)return E.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<C)return C=0,y()}return _e.reject(d)})})]).then(function(){return e(),E.onReadyBeingFired=[],_e.resolve(gn(function(){return d.on.ready.fire(d.vip)})).then(function e(){if(0<E.onReadyBeingFired.length){var x=E.onReadyBeingFired.reduce(re,G);return E.onReadyBeingFired=[],_e.resolve(gn(function(){return x(d.vip)})).then(e)}})}).finally(function(){E.openCanceller===K&&(E.onReadyBeingFired=null,E.isBeingOpened=!1)}).catch(function(x){E.dbOpenError=x;try{R&&R.abort()}catch(d){}return K===E.openCanceller&&d._close(),eI(x)}).finally(function(){E.openComplete=!0,q()}).then(function(){var x;return B&&(x={},d.tables.forEach(function(E){E.schema.indexes.forEach(function(O){O.name&&(x["idb://".concat(d.name,"/").concat(E.name,"/").concat(O.name)]=new _n(-1/0,[[[]]]))}),x["idb://".concat(d.name,"/").concat(E.name,"/")]=x["idb://".concat(d.name,"/").concat(E.name,"/:dels")]=new _n(-1/0,[[[]]])}),eV(eL).fire(x),qn(x,!0)),d})}(d)})},rr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,x=eT.indexOf(this);if(0<=x&&eT.splice(x,1),this.idbdb){try{this.idbdb.close()}catch(d){}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new _e(function(x){d.dbReadyResolve=x}),d.openCanceller=new _e(function(x,E){d.cancelOpen=E}))},rr.prototype.close=function(d){var x=(void 0===d?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;x?(d.isBeingOpened&&d.cancelOpen(new eo.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new eo.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},rr.prototype.delete=function(d){var x=this;void 0===d&&(d={disableAutoOpen:!0});var E=0<arguments.length&&"object"!=typeof arguments[0],O=this._state;return new _e(function(K,C){function e(){x.close(d);var E=x._deps.indexedDB.deleteDatabase(x.name);E.onsuccess=Ie(function(){var d,E,O;d=x._deps,E=x.name,O=d.indexedDB,d=d.IDBKeyRange,bn(O)||E===eD||mn(O,d).delete(E).catch(G),K()}),E.onerror=Ft(C),E.onblocked=x._fireOnBlocked}if(E)throw new eo.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(e):e()})},rr.prototype.backendDB=function(){return this.idbdb},rr.prototype.isOpen=function(){return null!==this.idbdb},rr.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&"DatabaseClosed"===d.name},rr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},rr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rr.prototype,"tables",{get:function(){var d=this;return x(this._allTables).map(function(x){return d._allTables[x]})},enumerable:!1,configurable:!0}),rr.prototype.transaction=function(){var d=(function(d,x,E){var O=arguments.length;if(O<2)throw new eo.InvalidArgument("Too few arguments");for(var K=Array(O-1);--O;)K[O-1]=arguments[O];return E=K.pop(),[d,P(K),E]}).apply(this,arguments);return this._transaction.apply(this,d)},rr.prototype._transaction=function(d,x,E){var O=this,K=eb.trans;K&&K.db===this&&-1===d.indexOf("!")||(K=null);var C,j,T=-1!==d.indexOf("?");d=d.replace("!","").replace("?","");try{if(j=x.map(function(d){if(d=d instanceof O.Table?d.name:d,"string"!=typeof d)throw TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),"r"==d||d===eq)C=eq;else{if("rw"!=d&&d!=eR)throw new eo.InvalidArgument("Invalid transaction mode: "+d);C=eR}if(K){if(K.mode===eq&&C===eR){if(!T)throw new eo.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");K=null}K&&j.forEach(function(d){if(K&&-1===K.storeNames.indexOf(d)){if(!T)throw new eo.SubTransaction("Table "+d+" not included in parent transaction.");K=null}}),T&&K&&!K.active&&(K=null)}}catch(d){return K?K._promise(null,function(x,E){E(d)}):eI(d)}var q=(function i(d,x,E,O,K){return _e.resolve().then(function(){var C=eb.transless||eb,j=d._createTransaction(x,E,d._dbSchema,O);if(j.explicit=!0,C={trans:j,transless:C},O)j.idbtrans=O.idbtrans;else try{j.create(),j.idbtrans._explicit=!0,d._state.PR1398_maxLoop=3}catch(O){return O.name===ei.InvalidState&&d.isOpen()&&0<--d._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),d.close({disableAutoOpen:!1}),d.open().then(function(){return i(d,x,E,null,K)})):eI(O)}var T,q=Q(K);return q&&Le(),C=_e.follow(function(){var d;(T=K.call(j,j))&&(q?(d=Ue.bind(null,null),T.then(d,d)):"function"==typeof T.next&&"function"==typeof T.throw&&(T=Rn(T)))},C),(T&&"function"==typeof T.then?_e.resolve(T).then(function(d){return j.active?d:eI(new eo.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):C.then(function(){return T})).then(function(d){return O&&j._resolve(),j._completion.then(function(){return d})}).catch(function(d){return j._reject(d),eI(d)})})}).bind(null,this,C,j,K,E);return K?K._promise(C,q,"lock"):eb.trans?$e(eb.transless,function(){return O._whenReady(q)}):this._whenReady(q)},rr.prototype.table=function(d){if(!m(this._allTables,d))throw new eo.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},rr);function rr(d,x){var E=this;this._middlewares={},this.verno=0;var O=rr.dependencies;this._options=x=_({addons:rr.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},x),this._deps={indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange},O=x.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var K,C,j,T,q,R={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:G,dbReadyPromise:null,cancelOpen:G,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:x.autoOpen};R.dbReadyPromise=new _e(function(d){R.dbReadyResolve=d}),R.openCanceller=new _e(function(d,x){R.cancelOpen=x}),this._state=R,this.name=d,this.on=mt(this,"populate","blocked","versionchange","close",{ready:[re,G]}),this.once=function(d,x){var i=function(){for(var O=[],K=0;K<arguments.length;K++)O[K]=arguments[K];E.on(d).unsubscribe(i),x.apply(E,O)};return E.on(d,i)},this.on.ready.subscribe=p(this.on.ready.subscribe,function(d){return function(x,O){rr.vip(function(){var K=E._state;K.openComplete?(K.dbOpenError||_e.resolve().then(x),O&&d(x)):K.onReadyBeingFired?(K.onReadyBeingFired.push(x),O&&d(x)):(d(x),O||d(function e(){E.on.ready.unsubscribe(x),E.on.ready.unsubscribe(e)}))})}}),this.Collection=(K=this,bt(eM.prototype,function(d,x){this.db=K;var E=eB,O=null;if(x)try{E=x()}catch(d){O=d}var C=d._ctx,x=C.table,d=x.hook.reading.fire;this._ctx={table:x,index:C.index,isPrimKey:!C.index||x.schema.primKey.keyPath&&C.index===x.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:C.or,valueMapper:d!==X?d:null}})),this.Table=(C=this,bt(eF.prototype,function(d,x,E){this.db=C,this._tx=E,this.name=d,this.schema=x,this.hook=C._allTables[d]?C._allTables[d].hook:mt(null,{creating:[Z,G],reading:[H,X],updating:[te,G],deleting:[ee,G]})})),this.Transaction=(j=this,bt(ez.prototype,function(d,x,E,O,K){var C=this;"readonly"!==d&&x.forEach(function(d){(d=null===(d=E[d])||void 0===d?void 0:d.yProps)&&(x=x.concat(d.map(function(d){return d.updatesTable})))}),this.db=j,this.mode=d,this.storeNames=x,this.schema=E,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=mt(this,"complete","error","abort"),this.parent=K||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new _e(function(d,x){C._resolve=d,C._reject=x}),this._completion.then(function(){C.active=!1,C.on.complete.fire()},function(d){var x=C.active;return C.active=!1,C.on.error.fire(d),C.parent?C.parent._reject(d):x&&C.idbtrans&&C.idbtrans.abort(),eI(d)})})),this.Version=(T=this,bt(e$.prototype,function(d){this.db=T,this._cfg={version:d,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,bt(eG.prototype,function(d,x,E){if(this.db=q,this._ctx={table:d,index:":id"===x?null:x,or:E},this._cmp=this._ascending=st,this._descending=function(d,x){return st(x,d)},this._max=function(d,x){return 0<st(d,x)?d:x},this._min=function(d,x){return 0>st(d,x)?d:x},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new eo.MissingAPI})),this.on("versionchange",function(d){0<d.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(d){!d.newVersion||d.newVersion<d.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(d.oldVersion/10))}),this._maxKey=Qt(x.IDBKeyRange),this._createTransaction=function(d,x,O,K){return new E.Transaction(d,x,O,E._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(d){E.on("blocked").fire(d),eT.filter(function(d){return d.name===E.name&&d!==E&&!d._state.vcFired}).map(function(x){return x.on("versionchange").fire(d)})},this.use(eZ),this.use(e1),this.use(e0),this.use(eJ),this.use(eH);var B=new Proxy(this,{get:function(d,x,O){if("_vip"===x)return!0;if("table"===x)return function(d){return tr(E.table(d),B)};var K=Reflect.get(d,x,O);return K instanceof eF?tr(K,B):"tables"===x?K.map(function(d){return tr(d,B)}):"_createTransaction"===x?function(){return tr(K.apply(this,arguments),B)}:K}});this.vip=B,O.forEach(function(d){return d(E)})}var e3,en="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",e6=(ar.prototype.subscribe=function(d,x,E){return this._subscribe(d&&"function"!=typeof d?d:{next:d,error:x,complete:E})},ar.prototype[en]=function(){return this},ar);function ar(d){this._subscribe=d}try{e3={indexedDB:d.indexedDB||d.mozIndexedDB||d.webkitIndexedDB||d.msIndexedDB,IDBKeyRange:d.IDBKeyRange||d.webkitIDBKeyRange}}catch(d){e3={indexedDB:null,IDBKeyRange:null}}function ur(d){var x,E=!1,O=new e6(function(O){var K,C=Q(d),j=!1,T={},q={},R={get closed(){return j},unsubscribe:function(){j||(j=!0,K&&K.abort(),B&&eV.storagemutated.unsubscribe(f))}};O.start&&O.start(R);var B=!1,l=function(){return Ge(t)},f=function(d){Sn(T,d),jn(q,T)&&l()},t=function(){var R,F;!j&&e3.indexedDB&&(T={},R={},K&&K.abort(),Promise.resolve(function(x){var E=je();try{C&&Le();var O=Ne(d,x);return O=C?O.finally(Ue):O}finally{E&&Ae()}}(F={subscr:R,signal:(K=new AbortController).signal,requery:l,querier:d,trans:null})).then(function(d){E=!0,x=d,j||F.signal.aborted||(T={},function(d){for(var x in d)if(m(d,x))return;return 1}(q=R)||B||(eV(eL,f),B=!0),Ge(function(){return!j&&O.next&&O.next(d)}))},function(d){E=!1,["DatabaseClosedError","AbortError"].includes(null==d?void 0:d.name)||j||Ge(function(){j||O.error&&O.error(d)})}))};return setTimeout(l,0),R});return O.hasValue=function(){return E},O.getValue=function(){return x},O}function cr(d){var x=e8;try{e8=!0,eV.storagemutated.fire(d),qn(d,!0)}finally{e8=x}}r(e2,_(_({},eu),{delete:function(d){return new e2(d,{addons:[]}).delete()},exists:function(d){return new e2(d,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){var x,E;try{return E=(x=e2.dependencies).indexedDB,x=x.IDBKeyRange,(bn(E)?Promise.resolve(E.databases()).then(function(d){return d.map(function(d){return d.name}).filter(function(d){return d!==eD})}):mn(E,x).toCollection().primaryKeys()).then(d)}catch(d){return eI(new eo.MissingAPI)}},defineClass:function(){return function(d){a(this,d)}},ignoreTransaction:function(d){return eb.trans?$e(eb.transless,d):d()},vip:gn,async:function(d){return function(){try{var x=Rn(d.apply(this,arguments));return x&&"function"==typeof x.then?x:_e.resolve(x)}catch(d){return eI(d)}}},spawn:function(d,x,E){try{var O=Rn(d.apply(E,x||[]));return O&&"function"==typeof O.then?O:_e.resolve(O)}catch(d){return eI(d)}},currentTransaction:{get:function(){return eb.trans||null}},waitFor:function(d,x){return x=_e.resolve("function"==typeof d?e2.ignoreTransaction(d):d).timeout(x||6e4),eb.trans?eb.trans.waitFor(x):x},Promise:_e,debug:{get:function(){return es},set:function(d){es=d}},derive:o,extend:a,props:r,override:p,Events:mt,on:eV,liveQuery:ur,extendObservabilitySet:Sn,getByKeyPath:g,setByKeyPath:w,delByKeyPath:function(d,x){"string"==typeof x?w(d,x,void 0):"length"in x&&[].map.call(x,function(x){w(d,x,void 0)})},shallowClone:k,deepClone:S,getObjectDiff:Nn,cmp:st,asap:v,minKey:-1/0,addons:[],connections:eT,errnames:ei,dependencies:e3,cache:eY,semVer:"4.2.1",version:"4.2.1".split(".").map(function(d){return parseInt(d)}).reduce(function(d,x,E){return d+x/Math.pow(10,2*E)})})),e2.maxKey=Qt(e2.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(eV(eL,function(d){e8||(d=new CustomEvent(eU,{detail:d}),e8=!0,dispatchEvent(d),e8=!1)}),addEventListener(eU,function(d){d=d.detail,e8||cr(d)}));var e4,e8=!1,hr=function(){};return"undefined"!=typeof BroadcastChannel&&((hr=function(){(e4=new BroadcastChannel(eU)).onmessage=function(d){return d.data&&cr(d.data)}})(),"function"==typeof e4.unref&&e4.unref(),eV(eL,function(d){e8||e4.postMessage(d)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(d){if(!e2.disableBfCache&&d.persisted){es&&console.debug("Dexie: handling persisted pagehide"),null!=e4&&e4.close();for(var x=0;x<eT.length;x++)eT[x].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!e2.disableBfCache&&d.persisted&&(es&&console.debug("Dexie: handling persisted pageshow"),hr(),cr({all:new _n(-1/0,[[]])}))})),_e.rejectionMapper=function(d,x){return!d||d instanceof N||d instanceof TypeError||d instanceof SyntaxError||!d.name||!ea[d.name]?d:(x=new ea[d.name](x||d.message,d),"stack"in d&&l(x,"stack",{get:function(){return this.inner.stack}}),x)},_(e2,Object.freeze({__proto__:null,Dexie:e2,liveQuery:ur,Entity:ut,cmp:st,PropModification:eN,replacePrefix:function(d,x){return new eN({replacePrefix:[d,x]})},add:function(d){return new eN({add:d})},remove:function(d){return new eN({remove:d})},default:e2,RangeSet:_n,mergeRanges:kn,rangesOverlap:On}),{default:e2}),e2}()},28483:function(d,x,E){var O=E(25063)();d.exports=O},47816:function(d,x,E){var O=E(28483),K=E(3674);d.exports=function(d,x){return d&&O(d,x,K)}},5976:function(d,x,E){var O=E(6557),K=E(45357),C=E(30061);d.exports=function(d,x){return C(K(d,x,O),d+"")}},25063:function(d){d.exports=function(d){return function(x,E,O){for(var K=-1,C=Object(x),j=O(x),T=j.length;T--;){var q=j[d?T:++K];if(!1===E(C[q],q,C))break}return x}}},29246:function(d,x,E){var O=E(98612),K=E(37005);d.exports=function(d){return K(d)&&O(d)}},67523:function(d,x,E){var O=E(89465),K=E(47816),C=E(67206);d.exports=function(d,x){var E={};return x=C(x,3),K(d,function(d,K,C){O(E,x(d,K,C),d)}),E}},40690:function(d,x,E){var O=E(34963),K=E(29932),C=E(40371),j=E(22545),T=E(29246),q=Math.max;d.exports=function(d){if(!(d&&d.length))return[];var x=0;return d=O(d,function(d){if(T(d))return x=q(d.length,x),!0}),j(x,function(x){return K(d,C(x))})}},4788:function(d,x,E){var O=E(5976)(E(40690));d.exports=O},26285:function(d,x,E){"use strict";var O=E(22617);let K=Symbol.for("Dexie"),C=globalThis[K]||(globalThis[K]=O);if(O.semVer!==C.semVer)throw Error(`Two different versions of Dexie loaded in the same app: ${O.semVer} and ${C.semVer}`);let{liveQuery:j,mergeRanges:T,rangesOverlap:q,RangeSet:R,cmp:B,Entity:F,PropModification:M,replacePrefix:z,add:W,remove:$,DexieYProvider:Y}=C;x.ZP=C}}]);
//# sourceMappingURL=171-3904a53d5317e85c.js.map